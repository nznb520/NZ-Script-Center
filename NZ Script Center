local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UIStroke = Instance.new("UIStroke")
local Header = Instance.new("Frame")
local UICorner_Header = Instance.new("UICorner")
local Title = Instance.new("TextLabel")
local VersionLabel = Instance.new("TextLabel")
local Author = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")

-- ÂØºËà™Ê†èÁõ∏ÂÖ≥
local NavigationFrame = Instance.new("Frame")
local NavigationCorner = Instance.new("UICorner")
local NavigationStroke = Instance.new("UIStroke")
local ScriptInfoButton = Instance.new("TextButton")
local DeveloperButton = Instance.new("TextButton")
local GeneralButton = Instance.new("TextButton")
local FEButton = Instance.new("TextButton")
local ESPButton = Instance.new("TextButton")
local BlindFireButton = Instance.new("TextButton")

-- ËÑöÊú¨ÂÆπÂô®Áõ∏ÂÖ≥
local ScriptsContainer = Instance.new("ScrollingFrame")
local ContainerCorner = Instance.new("UICorner")
local ContainerStroke = Instance.new("UIStroke")
local UIListLayout = Instance.new("UIListLayout")
local UIPadding = Instance.new("UIPadding")

-- ÊúÄÂ∞èÂåñÁä∂ÊÄÅÁõ∏ÂÖ≥
local MinimizedPanel = Instance.new("Frame")
local PanelUICorner = Instance.new("UICorner")
local PanelUIStroke = Instance.new("UIStroke")
local PanelTitle = Instance.new("TextLabel")
local PanelTitleStroke = Instance.new("UIStroke")

-- ÁêÉÂΩ¢Â±ïÂºÄÊåâÈíÆÁõ∏ÂÖ≥
local ExpandSphere = Instance.new("Frame")
local SphereCorner = Instance.new("UICorner")
local SphereStroke = Instance.new("UIStroke")
local SphereButton = Instance.new("TextButton")
local SphereText = Instance.new("TextLabel")
local SphereTextStroke = Instance.new("UIStroke")

-- Áä∂ÊÄÅÂèòÈáè
local isMinimized = false
local originalSize = UDim2.new(0, 400, 0, 380)
local originalPosition = UDim2.new(0.4, 0, 0.35, 0)
local panelSize = UDim2.new(0, 250, 0, 60)
local currentCategory = "ScriptInfo"

-- ÂäüËÉΩÂºÄÂÖ≥Áä∂ÊÄÅ
local infiniteJumpEnabled = false
local fogRemoverEnabled = false
local nightVisionEnabled = false
local mapWallhackEnabled = false
local highlightEnemyEnabled = false
local teamCheckEnabled = false
local showHitboxEnabled = false
local antiHitEnabled = false
local enemyHitboxEnabled = false

-- ÂΩ©ËôπÈ¢úËâ≤Â∫èÂàó
local colorSequence = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
    ColorSequenceKeypoint.new(0.166, Color3.fromRGB(255, 165, 0)),
    ColorSequenceKeypoint.new(0.333, Color3.fromRGB(255, 255, 0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),
    ColorSequenceKeypoint.new(0.666, Color3.fromRGB(0, 0, 255)),
    ColorSequenceKeypoint.new(0.833, Color3.fromRGB(75, 0, 130)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(238, 130, 238))
})

ScreenGui.Name = "NZScriptCenter"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ‰∏ªÊ°ÜÊû∂
Frame.Name = "Frame"
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
Frame.Position = originalPosition
Frame.Size = originalSize
Frame.Active = true
Frame.Draggable = true
Frame.Visible = true

-- ÂúÜËßíËÆæËÆ°
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 12)

-- ÂΩ©ËôπËΩÆÂªì
UIStroke.Parent = Frame
UIStroke.Color = Color3.fromRGB(255, 0, 0)
UIStroke.Thickness = 2.5
UIStroke.LineJoinMode = Enum.LineJoinMode.Round
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- ÂΩ©ËôπÈ¢úËâ≤Âä®Áîª
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.5,
                Enum.EasingStyle.Linear,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                UIStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- È°∂ÈÉ®Ê†áÈ¢òÊ†è
Header.Name = "Header"
Header.Parent = Frame
Header.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Header.Size = UDim2.new(1, 0, 0, 50)
Header.Position = UDim2.new(0, 0, 0, 0)

-- Ê†áÈ¢òÊ†èÂúÜËßí
UICorner_Header.Parent = Header
UICorner_Header.CornerRadius = UDim.new(0, 12)

-- ËÑöÊú¨Ê†áÈ¢ò
Title.Name = "Title"
Title.Parent = Header
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0.05, 0, 0.15, 0)
Title.Size = UDim2.new(0.5, 0, 0, 25)
Title.Font = Enum.Font.GothamBold
Title.Text = "NZ Script Center"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.TextXAlignment = Enum.TextXAlignment.Left

-- ÁâàÊú¨Âè∑Ê†áÁ≠æ
VersionLabel.Name = "VersionLabel"
VersionLabel.Parent = Header
VersionLabel.BackgroundTransparency = 1
VersionLabel.Position = UDim2.new(0.4, 0, 0.15, 0)
VersionLabel.Size = UDim2.new(0.2, 0, 0, 25)
VersionLabel.Font = Enum.Font.GothamBold
VersionLabel.Text = "V1.0"
VersionLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
VersionLabel.TextScaled = true
VersionLabel.TextXAlignment = Enum.TextXAlignment.Left

-- ‰ΩúËÄÖ‰ø°ÊÅØ
Author.Name = "Author"
Author.Parent = Header
Author.BackgroundTransparency = 1
Author.Position = UDim2.new(0.05, 0, 0.55, 0)
Author.Size = UDim2.new(0.7, 0, 0, 18)
Author.Font = Enum.Font.Gotham
Author.Text = "‰ΩúËÄÖ: ÂçóÁÉõ"
Author.TextColor3 = Color3.fromRGB(200, 200, 200)
Author.TextScaled = true
Author.TextXAlignment = Enum.TextXAlignment.Left

-- ÊúÄÂ∞èÂåñÊåâÈíÆ
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = Header
MinimizeButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
MinimizeButton.Position = UDim2.new(0.85, 0, 0.2, 0)
MinimizeButton.Size = UDim2.new(0.1, 0, 0, 30)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 20

-- ÊúÄÂ∞èÂåñÊåâÈíÆÂúÜËßí
local MinimizeButtonCorner = Instance.new("UICorner")
MinimizeButtonCorner.Parent = MinimizeButton
MinimizeButtonCorner.CornerRadius = UDim.new(0, 6)

-- ÊúÄÂ∞èÂåñÊåâÈíÆÊèèËæπ
local MinimizeButtonStroke = Instance.new("UIStroke")
MinimizeButtonStroke.Parent = MinimizeButton
MinimizeButtonStroke.Color = Color3.fromRGB(80, 80, 80)
MinimizeButtonStroke.Thickness = 1.5

-- ÂàõÂª∫Â∑¶‰æßÂØºËà™Ê†è
NavigationFrame.Name = "NavigationFrame"
NavigationFrame.Parent = Frame
NavigationFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
NavigationFrame.Position = UDim2.new(0, 10, 0, 70)
NavigationFrame.Size = UDim2.new(0, 80, 0, 250)

-- ÂØºËà™Ê†èÂúÜËßí
NavigationCorner.Parent = NavigationFrame
NavigationCorner.CornerRadius = UDim.new(0, 8)

-- ÂØºËà™Ê†èÊèèËæπ
NavigationStroke.Parent = NavigationFrame
NavigationStroke.Color = Color3.fromRGB(60, 60, 60)
NavigationStroke.Thickness = 2

-- ÂàõÂª∫ÂØºËà™ÊåâÈíÆÂáΩÊï∞
local function createNavButton(name, text, positionY)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = NavigationFrame
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.Position = UDim2.new(0.1, 0, positionY, 0)
    button.Size = UDim2.new(0.8, 0, 0, 35)
    button.Font = Enum.Font.Gotham
    button.Text = text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 12
    button.TextWrapped = true
    
    local corner = Instance.new("UICorner")
    corner.Parent = button
    corner.CornerRadius = UDim.new(0, 6)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = button
    stroke.Color = Color3.fromRGB(80, 80, 80)
    stroke.Thickness = 1.5
    
    return button
end

-- ÂàõÂª∫ÂØºËà™ÊåâÈíÆ
ScriptInfoButton = createNavButton("ScriptInfoButton", "ËÑöÊú¨‰ø°ÊÅØ", 0.03)
DeveloperButton = createNavButton("DeveloperButton", "ÂºÄÂèë‰∫∫Âëò", 0.18)
GeneralButton = createNavButton("GeneralButton", "ÈÄöÁî®", 0.33)
FEButton = createNavButton("FEButton", "FE", 0.48)
ESPButton = createNavButton("ESPButton", "ESP", 0.63)
BlindFireButton = createNavButton("BlindFireButton", "Áõ≤Â∞Ñ", 0.78)

-- ÂàõÂª∫Âè≥‰æßËÑöÊú¨ÂÆπÂô®
ScriptsContainer.Name = "ScriptsContainer"
ScriptsContainer.Parent = Frame
ScriptsContainer.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
ScriptsContainer.Position = UDim2.new(0, 100, 0, 70)
ScriptsContainer.Size = UDim2.new(0, 280, 0, 250)
ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
ScriptsContainer.ScrollBarThickness = 8
ScriptsContainer.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)

-- ÂÆπÂô®ÂúÜËßí
ContainerCorner.Parent = ScriptsContainer
ContainerCorner.CornerRadius = UDim.new(0, 8)

-- ÂÆπÂô®ÊèèËæπ
ContainerStroke.Parent = ScriptsContainer
ContainerStroke.Color = Color3.fromRGB(60, 60, 60)
ContainerStroke.Thickness = 2

-- Â∏ÉÂ±ÄÂíåÈó¥Ë∑ù
UIListLayout.Parent = ScriptsContainer
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 8)

UIPadding.Parent = ScriptsContainer
UIPadding.PaddingTop = UDim.new(0, 10)
UIPadding.PaddingLeft = UDim.new(0, 10)
UIPadding.PaddingRight = UDim.new(0, 10)

-- ÂàõÂª∫ÂΩ©Ëâ≤ÊñáÊú¨Ê†áÁ≠æÂáΩÊï∞
local function createColorTextLabel(text, sizeY)
    local label = Instance.new("TextLabel")
    label.BackgroundTransparency = 1
    label.Size = UDim2.new(1, -20, 0, sizeY)
    label.Font = Enum.Font.Gotham
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.TextSize = 14
    label.TextWrapped = true
    label.LayoutOrder = #ScriptsContainer:GetChildren()
    label.TextYAlignment = Enum.TextYAlignment.Top
    
    local textStroke = Instance.new("UIStroke")
    textStroke.Parent = label
    textStroke.Color = Color3.fromRGB(255, 0, 0)
    textStroke.Thickness = 1.5
    textStroke.LineJoinMode = Enum.LineJoinMode.Round
    
    -- ÂΩ©ËôπÂä®Áîª
    spawn(function()
        while label.Parent do
            for i = 1, #colorSequence.Keypoints do
                local nextIndex = i % #colorSequence.Keypoints + 1
                local tweenInfo = TweenInfo.new(
                    0.5,
                    Enum.EasingStyle.Linear,
                    Enum.EasingDirection.InOut
                )
                local tween = game:GetService("TweenService"):Create(
                    textStroke,
                    tweenInfo,
                    {Color = colorSequence.Keypoints[nextIndex].Value}
                )
                tween:Play()
                tween.Completed:Wait()
            end
        end
    end)
    
    return label
end

-- ÂàõÂª∫ÂºÄÂÖ≥ÊåâÈíÆÂáΩÊï∞
local function createToggleButton(name, state)
    local button = Instance.new("TextButton")
    button.Name = name
    button.BackgroundColor3 = state and Color3.fromRGB(0, 180, 0) or Color3.fromRGB(180, 0, 0)
    button.Size = UDim2.new(0, 60, 0, 25)
    button.Font = Enum.Font.Gotham
    button.Text = state and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 12
    button.LayoutOrder = #ScriptsContainer:GetChildren()
    
    local corner = Instance.new("UICorner")
    corner.Parent = button
    corner.CornerRadius = UDim.new(0, 6)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = button
    stroke.Color = Color3.fromRGB(80, 80, 80)
    stroke.Thickness = 1.5
    
    return button
end

-- ÂàõÂª∫ÂäüËÉΩË°åÂáΩÊï∞
local function createFeatureRow(name, hasToggle, toggleState, callback)
    local frame = Instance.new("Frame")
    frame.BackgroundTransparency = 1
    frame.Size = UDim2.new(1, -20, 0, 40)
    frame.LayoutOrder = #ScriptsContainer:GetChildren()
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Name = "NameLabel"
    nameLabel.Parent = frame
    nameLabel.BackgroundTransparency = 1
    nameLabel.Position = UDim2.new(0, 0, 0, 0)
    nameLabel.Size = hasToggle and UDim2.new(0.7, 0, 1, 0) or UDim2.new(1, 0, 1, 0)
    nameLabel.Font = Enum.Font.Gotham
    nameLabel.Text = name
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextSize = 14
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    if hasToggle then
        local toggleButton = createToggleButton(name .. "Toggle", toggleState)
        toggleButton.Parent = frame
        toggleButton.Position = UDim2.new(0.75, 0, 0.25, 0)
        
        toggleButton.MouseButton1Click:Connect(function()
            local newState = not toggleState
            toggleState = newState
            toggleButton.BackgroundColor3 = newState and Color3.fromRGB(0, 180, 0) or Color3.fromRGB(180, 0, 0)
            toggleButton.Text = newState and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"
            
            if callback then
                callback(newState)
            end
        end)
    else
        frame.MouseButton1Click:Connect(function()
            if callback then
                callback()
            end
        end)
    end
    
    return frame, toggleState
end

-- Êó†ÈôêË∑≥ÂäüËÉΩ
local function toggleInfiniteJump(state)
    infiniteJumpEnabled = state
    if state then
        local player = game:GetService("Players").LocalPlayer
        local connection
        connection = game:GetService("UserInputService").JumpRequest:Connect(function()
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                player.Character.Humanoid:ChangeState("Jumping")
            end
        end)
        -- Â≠òÂÇ®ËøûÊé•‰ª•‰æøÂÖ≥Èó≠
        toggleInfiniteJump.connection = connection
    else
        if toggleInfiniteJump.connection then
            toggleInfiniteJump.connection:Disconnect()
            toggleInfiniteJump.connection = nil
        end
    end
end

-- ‰∏ÄÈîÆÂéªÈõæÂäüËÉΩ
local function toggleFogRemover(state)
    fogRemoverEnabled = state
    if state then
        if game:GetService("Lighting"):FindFirstChild("FogStart") then
            game:GetService("Lighting").FogStart = 1000000
        end
        if game:GetService("Lighting"):FindFirstChild("FogEnd") then
            game:GetService("Lighting").FogEnd = 1000000
        end
    else
        if game:GetService("Lighting"):FindFirstChild("FogStart") then
            game:GetService("Lighting").FogStart = 0
        end
        if game:GetService("Lighting"):FindFirstChild("FogEnd") then
            game:GetService("Lighting").FogEnd = 100000
        end
    end
end

-- Â§úËßÜÂäüËÉΩ
local function toggleNightVision(state)
    nightVisionEnabled = state
    if state then
        game:GetService("Lighting").Brightness = 2
        game:GetService("Lighting").Ambient = Color3.fromRGB(255, 255, 255)
    else
        game:GetService("Lighting").Brightness = 1
        game:GetService("Lighting").Ambient = Color3.fromRGB(0.5, 0.5, 0.5)
    end
end

-- Âú∞ÂõæÈÄèËßÜÂäüËÉΩ
local function toggleMapWallhack()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and not obj:IsA("Terrain") then
            obj.LocalTransparencyModifier = 0.5
        end
    end
end

-- Êó†ÊïåÂ∞ë‰æ†È£ûË°åÂäüËÉΩ
local function executeFlightScript()
    loadstring(game:HttpGet("https://gist.githubusercontent.com/JungleScripts/775c6366d91d39fe2633c5805a1d0c23/raw/c8de949402393510a27bcf4482c957b6c3bed2c2/gistfile1.txt"))()
    
    -- ÂàõÂª∫ÊèêÁ§∫Ê°Ü
    local notification = Instance.new("Frame")
    notification.Name = "FlightNotification"
    notification.Parent = ScreenGui
    notification.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
    notification.Size = UDim2.new(0, 200, 0, 60)
    notification.Position = UDim2.new(1, -220, 1, -80)
    notification.ZIndex = 100
    
    local notificationCorner = Instance.new("UICorner")
    notificationCorner.Parent = notification
    notificationCorner.CornerRadius = UDim.new(0, 8)
    
    local notificationStroke = Instance.new("UIStroke")
    notificationStroke.Parent = notification
    notificationStroke.Color = Color3.fromRGB(255, 0, 0)
    notificationStroke.Thickness = 2.5
    notificationStroke.LineJoinMode = Enum.LineJoinMode.Round
    
    -- ÂΩ©ËôπÂä®Áîª
    spawn(function()
        while notification.Parent do
            for i = 1, #colorSequence.Keypoints do
                local nextIndex = i % #colorSequence.Keypoints + 1
                local tweenInfo = TweenInfo.new(
                    0.5,
                    Enum.EasingStyle.Linear,
                    Enum.EasingDirection.InOut
                )
                local tween = game:GetService("TweenService"):Create(
                    notificationStroke,
                    tweenInfo,
                    {Color = colorSequence.Keypoints[nextIndex].Value}
                )
                tween:Play()
                tween.Completed:Wait()
            end
        end
    end)
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = notification
    textLabel.BackgroundTransparency = 1
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Font = Enum.Font.GothamBold
    textLabel.Text = "È£ûË°åËÑöÊú¨Â∑≤ÊâßË°å!"
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.TextSize = 16
    
    wait(3)
    notification:Destroy()
end

-- È´ò‰∫ÆÊòæÁ§∫Êïå‰∫∫ÂäüËÉΩ
local function toggleHighlightEnemy(state)
    highlightEnemyEnabled = state
    -- ËøôÈáåÂ∫îËØ•ÂÆûÁé∞È´ò‰∫ÆÊïå‰∫∫ÁöÑÈÄªËæë
    print("È´ò‰∫ÆÊòæÁ§∫Êïå‰∫∫: " .. (state and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"))
end

-- Èòü‰ºçÊ£ÄÊµãÂäüËÉΩ
local function toggleTeamCheck(state)
    teamCheckEnabled = state
    -- ËøôÈáåÂ∫îËØ•ÂÆûÁé∞Èòü‰ºçÊ£ÄÊµãÁöÑÈÄªËæë
    print("Èòü‰ºçÊ£ÄÊµã: " .. (state and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"))
end

-- ÊòæÁ§∫Á¢∞ÊíûÁÆ±ÂäüËÉΩ
local function toggleShowHitbox(state)
    showHitboxEnabled = state
    -- ËøôÈáåÂ∫îËØ•ÂÆûÁé∞ÊòæÁ§∫Á¢∞ÊíûÁÆ±ÁöÑÈÄªËæë
    print("ÊòæÁ§∫Á¢∞ÊíûÁÆ±: " .. (state and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"))
end

-- Èò≤ÂáªÊâìÂäüËÉΩ
local function toggleAntiHit(state)
    antiHitEnabled = state
    if state then
        local player = game:GetService("Players").LocalPlayer
        if player.Character then
            -- ÂàõÂª∫Á¢∞ÊíûÁÆ±Âú®ËÑö‰∏ã
            local hitbox = Instance.new("Part")
            hitbox.Name = "AntiHitHitbox"
            hitbox.Size = Vector3.new(5, 1, 5)
            hitbox.Position = player.Character.HumanoidRootPart.Position - Vector3.new(0, 3, 0)
            hitbox.Transparency = 0.7
            hitbox.Color = Color3.fromRGB(255, 0, 0)
            hitbox.Anchored = true
            hitbox.CanCollide = true
            hitbox.Parent = workspace
            
            -- Ë∑üÈöèÁé©ÂÆ∂
            spawn(function()
                while antiHitEnabled and player.Character do
                    hitbox.Position = player.Character.HumanoidRootPart.Position - Vector3.new(0, 3, 0)
                    wait()
                end
                hitbox:Destroy()
            end)
        end
    else
        -- ÁßªÈô§Á¢∞ÊíûÁÆ±
        local hitbox = workspace:FindFirstChild("AntiHitHitbox")
        if hitbox then
            hitbox:Destroy()
        end
    end
end

-- ÈÄèËßÜÂäüËÉΩ
local function toggleEnemyHitbox(state)
    enemyHitboxEnabled = state
    -- ËøôÈáåÂ∫îËØ•ÂÆûÁé∞ÊòæÁ§∫Êïå‰∫∫Á¢∞ÊíûÁÆ±ÁöÑÈÄªËæë
    print("Êïå‰∫∫Á¢∞ÊíûÁÆ±ÈÄèËßÜ: " .. (state and "ÂºÄÂêØ" or "ÂÖ≥Èó≠"))
end

-- Âä†ËΩΩÊåáÂÆöÁ±ªÂûãÁöÑËÑöÊú¨
local function loadCategory(category)
    -- Ê∏ÖÈô§ÂΩìÂâçÂÜÖÂÆπ
    for _, child in ipairs(ScriptsContainer:GetChildren()) do
        if child:IsA("TextLabel") or child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    local totalHeight = 10
    
    if category == "ScriptInfo" then
        -- ËÑöÊú¨‰ø°ÊÅØ
        local infoText = createColorTextLabel("Êú¨ËÑöÊú¨Ê∞∏ËøúÂÖ¨ÁõäÔºåËØ∑Â§öÂ§öÂÆ£‰º†\nËØ∑ËøõÂÖ•‰∫§ÊµÅÁæ§üêßÁæ§Âè∑Ôºö445825485", 80)
        infoText.Parent = ScriptsContainer
        totalHeight = totalHeight + 90
    elseif category == "Developer" then
        -- ÂºÄÂèë‰∫∫Âëò
        local devText = createColorTextLabel("‰∏ª‰ΩúËÄÖÔºöÂçóÁÉõ\nÂâØ‰ΩúËÄÖÔºöÊ∑±Êã•ÊÉÖËØùÊ¢¶‰∏ÄÂú∫\n‰ª£ÁêÜÔºöÈÄçÈÅ•\n         Â≠ôÁ¨ëÂ∑ù\n           ‰ª•Âêé", 120)
        devText.Parent = ScriptsContainer
        totalHeight = totalHeight + 130
    elseif category == "General" then
        -- ÈÄöÁî®ÂäüËÉΩ
        local infiniteJumpRow, infiniteJumpState = createFeatureRow("Êó†ÈôêË∑≥", true, infiniteJumpEnabled, toggleInfiniteJump)
        infiniteJumpRow.Parent = ScriptsContainer
        infiniteJumpEnabled = infiniteJumpState
        totalHeight = totalHeight + 50
        
        local fogRemoverRow, fogRemoverState = createFeatureRow("‰∏ÄÈîÆÂéªÈõæ", true, fogRemoverEnabled, toggleFogRemover)
        fogRemoverRow.Parent = ScriptsContainer
        fogRemoverEnabled = fogRemoverState
        totalHeight = totalHeight + 50
        
        local nightVisionRow, nightVisionState = createFeatureRow("Â§úËßÜ", true, nightVisionEnabled, toggleNightVision)
        nightVisionRow.Parent = ScriptsContainer
        nightVisionEnabled = nightVisionState
        totalHeight = totalHeight + 50
        
        local mapWallhackRow = createFeatureRow("Âú∞ÂõæÈÄèËßÜ", false, false, toggleMapWallhack)
        mapWallhackRow.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
        
        local flightRow = createFeatureRow("Êó†ÊïåÂ∞ë‰æ†È£ûË°å", false, false, executeFlightScript)
        flightRow.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
    elseif category == "FE" then
        -- FEÂäüËÉΩÔºàÊöÇÊú™ÂÆûÁé∞Ôºâ
        local feText = createColorTextLabel("FEÂäüËÉΩÂºÄÂèë‰∏≠...", 40)
        feText.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
    elseif category == "ESP" then
        -- ESPÂäüËÉΩ
        local highlightEnemyRow, highlightEnemyState = createFeatureRow("È´ò‰∫ÆÊòæÁ§∫Êïå‰∫∫", true, highlightEnemyEnabled, toggleHighlightEnemy)
        highlightEnemyRow.Parent = ScriptsContainer
        highlightEnemyEnabled = highlightEnemyState
        totalHeight = totalHeight + 50
        
        local teamCheckRow, teamCheckState = createFeatureRow("Èòü‰ºçÊ£ÄÊµã", true, teamCheckEnabled, toggleTeamCheck)
        teamCheckRow.Parent = ScriptsContainer
        teamCheckEnabled = teamCheckState
        totalHeight = totalHeight + 50
        
        local showHitboxRow, showHitboxState = createFeatureRow("ÊòæÁ§∫Á¢∞ÊíûÁÆ±", true, showHitboxEnabled, toggleShowHitbox)
        showHitboxRow.Parent = ScriptsContainer
        
        -- Ê∑ªÂä†Â∞èÂ≠óËØ¥Êòé
        local smallText = Instance.new("TextLabel")
        smallText.Parent = showHitboxRow
        smallText.BackgroundTransparency = 1
        smallText.Position = UDim2.new(0, 0, 0.7, 0)
        smallText.Size = UDim2.new(1, 0, 0.3, 0)
        smallText.Font = Enum.Font.Gotham
        smallText.Text = "Áõ≤Â∞Ñ‰∏ìÁî®"
        smallText.TextColor3 = Color3.fromRGB(150, 150, 150)
        smallText.TextSize = 10
        smallText.TextXAlignment = Enum.TextXAlignment.Left
        
        showHitboxEnabled = showHitboxState
        totalHeight = totalHeight + 50
    elseif category == "BlindFire" then
        -- Áõ≤Â∞ÑÂäüËÉΩ
        local antiHitRow, antiHitState = createFeatureRow("Èò≤ÂáªÊâì", true, antiHitEnabled, toggleAntiHit)
        antiHitRow.Parent = ScriptsContainer
        antiHitEnabled = antiHitState
        totalHeight = totalHeight + 50
        
        local enemyHitboxRow, enemyHitboxState = createFeatureRow("ÈÄèËßÜ", true, enemyHitboxEnabled, toggleEnemyHitbox)
        enemyHitboxRow.Parent = ScriptsContainer
        enemyHitboxEnabled = enemyHitboxState
        totalHeight = totalHeight + 50
    end
    
    -- Êõ¥Êñ∞CanvasSize
    ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    
    -- Êõ¥Êñ∞ÂØºËà™ÊåâÈíÆÁä∂ÊÄÅ
    local buttons = {
        ScriptInfoButton = "ScriptInfo",
        DeveloperButton = "Developer",
        GeneralButton = "General",
        FEButton = "FE",
        ESPButton = "ESP",
        BlindFireButton = "BlindFire"
    }
    
    for buttonName, buttonCategory in pairs(buttons) do
        local button = NavigationFrame:FindFirstChild(buttonName)
        if button then
            if buttonCategory == category then
                button.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
            else
                button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            end
        end
    end
end

-- ÂØºËà™ÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
ScriptInfoButton.MouseButton1Click:Connect(function()
    currentCategory = "ScriptInfo"
    loadCategory("ScriptInfo")
end)

DeveloperButton.MouseButton1Click:Connect(function()
    currentCategory = "Developer"
    loadCategory("Developer")
end)

GeneralButton.MouseButton1Click:Connect(function()
    currentCategory = "General"
    loadCategory("General")
end)

FEButton.MouseButton1Click:Connect(function()
    currentCategory = "FE"
    loadCategory("FE")
end)

ESPButton.MouseButton1Click:Connect(function()
    currentCategory = "ESP"
    loadCategory("ESP")
end)

BlindFireButton.MouseButton1Click:Connect(function()
    currentCategory = "BlindFire"
    loadCategory("BlindFire")
end)

-- ÂàõÂª∫ÊúÄÂ∞èÂåñÈù¢Êùø
MinimizedPanel.Name = "MinimizedPanel"
MinimizedPanel.Parent = ScreenGui
MinimizedPanel.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
MinimizedPanel.Size = panelSize
MinimizedPanel.Position = UDim2.new(0.9, -250, 0.05, 0)
MinimizedPanel.Active = false
MinimizedPanel.Draggable = false
MinimizedPanel.Visible = false

-- Èù¢ÊùøÂúÜËßí
PanelUICorner.Parent = MinimizedPanel
PanelUICorner.CornerRadius = UDim.new(0, 8)

-- Èù¢ÊùøÂΩ©ËôπËΩÆÂªì
PanelUIStroke.Parent = MinimizedPanel
PanelUIStroke.Color = Color3.fromRGB(255, 0, 0)
PanelUIStroke.Thickness = 2.5
PanelUIStroke.LineJoinMode = Enum.LineJoinMode.Round
PanelUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Èù¢ÊùøÂΩ©ËôπÂä®Áîª
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.5,
                Enum.EasingStyle.Linear,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                PanelUIStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- Èù¢ÊùøÊ†áÈ¢ò
PanelTitle.Name = "PanelTitle"
PanelTitle.Parent = MinimizedPanel
PanelTitle.BackgroundTransparency = 1
PanelTitle.Position = UDim2.new(0, 0, 0, 0)
PanelTitle.Size = UDim2.new(1, 0, 1, 0)
PanelTitle.Font = Enum.Font.GothamBold
PanelTitle.Text = "NZ Script Center"
PanelTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
PanelTitle.TextScaled = true
PanelTitle.ZIndex = 2

-- Èù¢ÊùøÊ†áÈ¢òÊèèËæπ
PanelTitleStroke.Parent = PanelTitle
PanelTitleStroke.Color = Color3.fromRGB(255, 0, 0)
PanelTitleStroke.Thickness = 1.5
PanelTitleStroke.LineJoinMode = Enum.LineJoinMode.Round
PanelTitleStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Èù¢ÊùøÊ†áÈ¢òÂΩ©ËôπÂä®Áîª
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.5,
                Enum.EasingStyle.Linear,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                PanelTitleStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- ÂàõÂª∫ÁêÉÂΩ¢Â±ïÂºÄÊåâÈíÆ
ExpandSphere.Name = "ExpandSphere"
ExpandSphere.Parent = ScreenGui
ExpandSphere.BackgroundColor3 = Color3.fromRGB(28, 28, 28)
ExpandSphere.Size = UDim2.new(0, 50, 0, 50)
ExpandSphere.Position = UDim2.new(0.95, -25, 0.05, 0)
ExpandSphere.Visible = false

-- ÁêÉÂΩ¢ÂúÜËßí
SphereCorner.Parent = ExpandSphere
SphereCorner.CornerRadius = UDim.new(1, 0)

-- ÁêÉÂΩ¢ÂΩ©ËôπÊèèËæπ
SphereStroke.Parent = ExpandSphere
SphereStroke.Color = Color3.fromRGB(255, 0, 0)
SphereStroke.Thickness = 2.5
SphereStroke.LineJoinMode = Enum.LineJoinMode.Round

-- ÁêÉÂΩ¢ÂΩ©ËôπÂä®Áîª
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.5,
                Enum.EasingStyle.Linear,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                SphereStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- ÁêÉÂΩ¢ÊåâÈíÆ
SphereButton.Name = "SphereButton"
SphereButton.Parent = ExpandSphere
SphereButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
SphereButton.BackgroundTransparency = 1
SphereButton.Size = UDim2.new(1, 0, 1, 0)
SphereButton.Font = Enum.Font.GothamBold
SphereButton.Text = ""
SphereButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SphereButton.TextSize = 20
SphereButton.ZIndex = 2

-- ÁêÉÂΩ¢ÊåâÈíÆÂúÜËßí
local SphereButtonCorner = Instance.new("UICorner")
SphereButtonCorner.Parent = SphereButton
SphereButtonCorner.CornerRadius = UDim.new(1, 0)

-- ÁêÉÂΩ¢ÊñáÂ≠ó
SphereText.Name = "SphereText"
SphereText.Parent = ExpandSphere
SphereText.BackgroundTransparency = 1
SphereText.Size = UDim2.new(1, 0, 1, 0)
SphereText.Font = Enum.Font.GothamBold
SphereText.Text = "NZ"
SphereText.TextColor3 = Color3.fromRGB(255, 255, 255)
SphereText.TextScaled = true
SphereText.ZIndex = 3

-- ÁêÉÂΩ¢ÊñáÂ≠óÊèèËæπ
SphereTextStroke.Parent = SphereText
SphereTextStroke.Color = Color3.fromRGB(0, 255, 255)
SphereTextStroke.Thickness = 1.5
SphereTextStroke.LineJoinMode = Enum.LineJoinMode.Round

-- ÁêÉÂΩ¢ÊñáÂ≠óÂΩ©ËôπÂä®Áîª
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.5,
                Enum.EasingStyle.Linear,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                SphereTextStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- ÊúÄÂ∞èÂåñ/Â±ïÂºÄÂáΩÊï∞
local function minimizeUI()
    isMinimized = true
    MinimizeButton.Text = "+"
    
    -- ÂàõÂª∫Áº©Â∞èÂä®Áîª
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local sizeTween = game:GetService("TweenService"):Create(
        Frame,
        tweenInfo,
        {Size = UDim2.new(0, 0, 0, 0)}
    )
    
    sizeTween:Play()
    sizeTween.Completed:Wait()
    
    Frame.Visible = false
    MinimizedPanel.Visible = false
    ExpandSphere.Visible = true
    
    -- ËÆæÁΩÆÁêÉÂΩ¢ÊåâÈíÆ‰ΩçÁΩÆ
    ExpandSphere.Position = UDim2.new(0.95, -25, 0.05, 0)
end

local function expandUI()
    isMinimized = false
    MinimizeButton.Text = "-"
    
    ExpandSphere.Visible = false
    Frame.Visible = true
    
    -- ËÆæÁΩÆFrameÂà∞Â±èÂπï‰∏≠ÂøÉ
    Frame.Position = originalPosition
    Frame.Size = UDim2.new(0, 0, 0, 0)
    
    -- ÂàõÂª∫Â±ïÂºÄÂä®Áîª
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local sizeTween = game:GetService("TweenService"):Create(
        Frame,
        tweenInfo,
        {Size = originalSize}
    )
    
    sizeTween:Play()
    
    -- ÈáçÊñ∞Âä†ËΩΩÂΩìÂâçÁ±ªÂûãÁöÑËÑöÊú¨
    loadCategory(currentCategory)
end

-- ÊúÄÂ∞èÂåñÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
MinimizeButton.MouseButton1Click:Connect(function()
    if not isMinimized then
        minimizeUI()
    else
        expandUI()
    end
end)

-- ÁêÉÂΩ¢ÊåâÈíÆÈïøÊåâÊ£ÄÊµã
local longPressTimer = 0
local isLongPressing = false
local longPressThreshold = 1.5

SphereButton.MouseButton1Down:Connect(function()
    isLongPressing = true
    longPressTimer = tick()
    
    -- ÊòæÁ§∫ÈïøÊåâÊèêÁ§∫
    local originalText = SphereText.Text
    SphereText.Text = "Êåâ‰Ωè..."
    
    spawn(function()
        while isLongPressing do
            local elapsedTime = tick() - longPressTimer
            if elapsedTime >= longPressThreshold then
                SphereText.Text = "ÊâßË°å‰ª£Á†Å"
                break
            end
            wait(0.1)
        end
    end)
end)

SphereButton.MouseButton1Up:Connect(function()
    local elapsedTime = tick() - longPressTimer
    
    if isLongPressing then
        if elapsedTime < longPressThreshold then
            -- Áü≠ÊåâÔºöÂ±ïÂºÄUI
            if isMinimized then
                expandUI()
            end
        else
            -- ÈïøÊåâÔºöÊâßË°å‰ª£Á†Å
            if ScreenGui.Parent ~= game.CoreGui then
                ScreenGui.Parent = game.CoreGui
            end
            SphereText.Text = "‰ª£Á†ÅÂ∑≤ÊâßË°å"
            wait(0.5)
        end
        
        isLongPressing = false
        SphereText.Text = "NZ"
    end
end)

-- ËÆæÁΩÆZIndexÂ±ÇÁ∫ß
Header.ZIndex = 2
Title.ZIndex = 3
VersionLabel.ZIndex = 3
Author.ZIndex = 3
MinimizeButton.ZIndex = 3

NavigationFrame.ZIndex = 2
ScriptInfoButton.ZIndex = 3
DeveloperButton.ZIndex = 3
GeneralButton.ZIndex = 3
FEButton.ZIndex = 3
ESPButton.ZIndex = 3
BlindFireButton.ZIndex = 3

ScriptsContainer.ZIndex = 2

MinimizedPanel.ZIndex = 10
PanelTitle.ZIndex = 11
PanelTitleStroke.ZIndex = 10

ExpandSphere.ZIndex = 20
SphereButton.ZIndex = 21
SphereText.ZIndex = 22
SphereTextStroke.ZIndex = 21

-- ÂàùÂßãÂä†ËΩΩËÑöÊú¨‰ø°ÊÅØ
loadCategory("ScriptInfo")

-- Á°Æ‰øùUIÂú®CoreGui‰∏≠
if ScreenGui.Parent ~= game.CoreGui then
    ScreenGui.Parent = game.CoreGui
end

print("NZ Script Center V1.0 Â∑≤Âä†ËΩΩ")
print("‰ΩúËÄÖ: ÂçóÁÉõ")
print("ÂΩìÂâçÁâàÊú¨: V1.0")
print("QQ‰∫§ÊµÅÁæ§: 445825485")
