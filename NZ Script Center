local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local UIStroke = Instance.new("UIStroke")
local BackgroundGradient = Instance.new("UIGradient")
local Header = Instance.new("Frame")
local HeaderGradient = Instance.new("UIGradient")
local UICorner_Header = Instance.new("UICorner")
local Title = Instance.new("TextLabel")
local VersionLabel = Instance.new("TextLabel")
local Author = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")
local MinimizeButtonGradient = Instance.new("UIGradient")
local CloseButton = Instance.new("TextButton")
local CloseButtonGradient = Instance.new("UIGradient")

-- å¯¼èˆªæ ç›¸å…³
local NavigationFrame = Instance.new("Frame")
local NavigationCorner = Instance.new("UICorner")
local NavigationStroke = Instance.new("UIStroke")
local NavigationGradient = Instance.new("UIGradient")
local ScriptInfoButton = Instance.new("TextButton")
local ScriptInfoButtonGradient = Instance.new("UIGradient")
local DeveloperButton = Instance.new("TextButton")
local DeveloperButtonGradient = Instance.new("UIGradient")
local GeneralButton = Instance.new("TextButton")
local GeneralButtonGradient = Instance.new("UIGradient")
local FEButton = Instance.new("TextButton")
local FEButtonGradient = Instance.new("UIGradient")
local ESPButton = Instance.new("TextButton")
local ESPButtonGradient = Instance.new("UIGradient")
local BlindFireButton = Instance.new("TextButton")
local BlindFireButtonGradient = Instance.new("UIGradient")
local AOTUButton = Instance.new("TextButton")
local AOTUButtonGradient = Instance.new("UIGradient")
local BoxingButton = Instance.new("TextButton")
local BoxingButtonGradient = Instance.new("UIGradient")
local ServerButton = Instance.new("TextButton")
local ServerButtonGradient = Instance.new("UIGradient")

-- è„šæœ¬å®¹å™¨ç›¸å…³
local ScriptsContainer = Instance.new("ScrollingFrame")
local ContainerCorner = Instance.new("UICorner")
local ContainerStroke = Instance.new("UIStroke")
local ContainerGradient = Instance.new("UIGradient")
local UIListLayout = Instance.new("UIListLayout")
local UIPadding = Instance.new("UIPadding")

-- æœ€å°åŒ–çŠ¶æ€ç›¸å…³
local MinimizedPanel = Instance.new("Frame")
local PanelUICorner = Instance.new("UICorner")
local PanelUIStroke = Instance.new("UIStroke")
local PanelGradient = Instance.new("UIGradient")
local PanelTitle = Instance.new("TextLabel")
local PanelTitleStroke = Instance.new("UIStroke")

-- çƒå½¢å±•å¼€æŒ‰é’®ç›¸å…³
local ExpandSphere = Instance.new("Frame")
local SphereCorner = Instance.new("UICorner")
local SphereStroke = Instance.new("UIStroke")
local SphereGradient = Instance.new("UIGradient")
local SphereButton = Instance.new("TextButton")
local SphereButtonGradient = Instance.new("UIGradient")
local SphereText = Instance.new("TextLabel")
local SphereTextStroke = Instance.new("UIStroke")

-- çŠ¶æ€å˜é‡
local isMinimized = false
local originalSize = UDim2.new(0, 420, 0, 420) -- é«˜åº¦å¢åŠ ä»¥é€‚åº”æ›´å¤šæŒ‰é’®
local originalPosition = UDim2.new(0.4, 0, 0.35, 0)
local panelSize = UDim2.new(0, 250, 0, 60)
local currentCategory = "ScriptInfo"

-- åŠŸèƒ½å¼€å…³çŠ¶æ€
local infiniteJumpEnabled = false
local fogRemoverEnabled = false
local nightVisionEnabled = false
local mapWallhackEnabled = false
local highlightEnemyEnabled = false
local teamCheckEnabled = false
local showHitboxEnabled = false
local antiHitEnabled = false
local enemyHitboxEnabled = false
local autoCollectBallEnabled = false
local autoPunchEnabled = false
local serverDetectionEnabled = false

-- è„šæœ¬çº¿ç¨‹
local autoCollectThread = nil
local autoPunchThread = nil
local serverDetectionThread = nil

-- æ”¯æŒçš„æœåŠ¡å™¨åˆ—è¡¨
local SupportedServers = {
    ["é±¼"] = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/nznb520/NZ-Script-Center/8755071529aff5733229cf513d24d5fa4e4fb7c8/feizi1"))()
    end,
    -- å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šæœåŠ¡å™¨
    -- ["æœåŠ¡å™¨åç§°"] = function() æ‰§è¡Œè„šæœ¬ end
}

-- é«˜çº§é¢œè‰²é…ç½®
local ColorPalette = {
    Primary = Color3.fromRGB(28, 28, 36),
    Secondary = Color3.fromRGB(40, 40, 50),
    Accent = Color3.fromRGB(0, 150, 255),
    Text = Color3.fromRGB(255, 255, 255), -- æ›´äº®çš„æ–‡å­—
    Subtext = Color3.fromRGB(220, 220, 230), -- æ›´äº®çš„å‰¯æ–‡å­—
    Success = Color3.fromRGB(76, 175, 80),
    Danger = Color3.fromRGB(244, 67, 54),
    Warning = Color3.fromRGB(255, 193, 7),
    Server = Color3.fromRGB(147, 112, 219) -- æœåŠ¡å™¨åŠŸèƒ½ä¸“ç”¨é¢œè‰²
}

-- é«˜çº§æ¸å˜é…ç½®
local GradientPresets = {
    BluePurple = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(33, 150, 243)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(156, 39, 176))
    }),
    GreenCyan = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(76, 175, 80)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 188, 212))
    }),
    OrangeRed = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 152, 0)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(244, 67, 54))
    }),
    PurplePink = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(103, 58, 183)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(233, 30, 99))
    }),
    DarkTheme = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 30, 40)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(45, 45, 60))
    }),
    ServerTheme = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(147, 112, 219)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(186, 85, 211))
    })
}

-- å½©è™¹é¢œè‰²åºåˆ—
local colorSequence = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),
    ColorSequenceKeypoint.new(0.166, Color3.fromRGB(255, 165, 0)),
    ColorSequenceKeypoint.new(0.333, Color3.fromRGB(255, 255, 0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),
    ColorSequenceKeypoint.new(0.666, Color3.fromRGB(0, 0, 255)),
    ColorSequenceKeypoint.new(0.833, Color3.fromRGB(75, 0, 130)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(238, 130, 238))
})

-- é«˜çº§å­—ä½“é…ç½®
local FontPresets = {
    Title = Enum.Font.GothamBlack,
    Header = Enum.Font.GothamBold,
    Body = Enum.Font.GothamMedium,
    Monospace = Enum.Font.RobotoMono,
    Elegant = Enum.Font.SourceSansBold
}

ScreenGui.Name = "NZScriptCenter"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ä¸»æ¡†æ¶
Frame.Name = "Frame"
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = ColorPalette.Primary
Frame.Position = originalPosition
Frame.Size = originalSize
Frame.Active = true
Frame.Draggable = true
Frame.Visible = true

-- ä¸»æ¡†æ¶åœ†è§’
UICorner.Parent = Frame
UICorner.CornerRadius = UDim.new(0, 16)

-- ä¸»æ¡†æ¶æ¸å˜èƒŒæ™¯
BackgroundGradient.Name = "BackgroundGradient"
BackgroundGradient.Parent = Frame
BackgroundGradient.Color = GradientPresets.DarkTheme
BackgroundGradient.Rotation = 45

-- ä¸»æ¡†æ¶å½©è™¹æè¾¹
UIStroke.Parent = Frame
UIStroke.Color = Color3.fromRGB(0, 150, 255)
UIStroke.Thickness = 3
UIStroke.LineJoinMode = Enum.LineJoinMode.Round
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- å½©è™¹é¢œè‰²åŠ¨ç”»
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.6,
                Enum.EasingStyle.Quad,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                UIStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- é¡¶éƒ¨æ ‡é¢˜æ 
Header.Name = "Header"
Header.Parent = Frame
Header.BackgroundColor3 = ColorPalette.Secondary
Header.Size = UDim2.new(1, -20, 0, 55)
Header.Position = UDim2.new(0, 10, 0, 10)

-- æ ‡é¢˜æ åœ†è§’
UICorner_Header.Parent = Header
UICorner_Header.CornerRadius = UDim.new(0, 12)

-- æ ‡é¢˜æ æ¸å˜
HeaderGradient.Name = "HeaderGradient"
HeaderGradient.Parent = Header
HeaderGradient.Color = GradientPresets.BluePurple
HeaderGradient.Rotation = 90

-- è„šæœ¬æ ‡é¢˜
Title.Name = "Title"
Title.Parent = Header
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0.05, 0, 0.15, 0)
Title.Size = UDim2.new(0.6, 0, 0, 25) -- å®½åº¦å¢åŠ 
Title.Font = FontPresets.Title
Title.Text = "NZ SCRIPT CENTER"
Title.TextColor3 = ColorPalette.Text
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.TextStrokeTransparency = 0.8
Title.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)

-- ç‰ˆæœ¬å·æ ‡ç­¾ - ç§»åŠ¨åˆ°æ›´å³è¾¹
VersionLabel.Name = "VersionLabel"
VersionLabel.Parent = Header
VersionLabel.BackgroundTransparency = 1
VersionLabel.Position = UDim2.new(0.65, 0, 0.15, 0) -- å‘å³ç§»åŠ¨
VersionLabel.Size = UDim2.new(0.2, 0, 0, 25)
VersionLabel.Font = FontPresets.Header
VersionLabel.Text = "V2.0" -- ç‰ˆæœ¬å·æ”¹ä¸º2.0
VersionLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
VersionLabel.TextSize = 16
VersionLabel.TextXAlignment = Enum.TextXAlignment.Left

-- ç‰ˆæœ¬å·å‘å…‰æ•ˆæœ
local VersionGlow = Instance.new("UIStroke")
VersionGlow.Parent = VersionLabel
VersionGlow.Color = Color3.fromRGB(0, 255, 255)
VersionGlow.Thickness = 1.5
VersionGlow.Transparency = 0.5

-- ä½œè€…ä¿¡æ¯
Author.Name = "Author"
Author.Parent = Header
Author.BackgroundTransparency = 1
Author.Position = UDim2.new(0.05, 0, 0.55, 0)
Author.Size = UDim2.new(0.7, 0, 0, 18)
Author.Font = FontPresets.Elegant
Author.Text = "BY: å—çƒ›"
Author.TextColor3 = ColorPalette.Subtext
Author.TextSize = 14
Author.TextXAlignment = Enum.TextXAlignment.Left

-- æœ€å°åŒ–æŒ‰é’® - å‘å³ç§»åŠ¨ä¸ºå…³é—­æŒ‰é’®è…¾å‡ºç©ºé—´
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = Header
MinimizeButton.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
MinimizeButton.Position = UDim2.new(0.75, 0, 0.2, 0) -- å‘å³ç§»åŠ¨
MinimizeButton.Size = UDim2.new(0.1, 0, 0, 30)
MinimizeButton.Font = FontPresets.Header
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = ColorPalette.Text
MinimizeButton.TextSize = 20

-- æœ€å°åŒ–æŒ‰é’®æ¸å˜
MinimizeButtonGradient.Name = "MinimizeButtonGradient"
MinimizeButtonGradient.Parent = MinimizeButton
MinimizeButtonGradient.Color = GradientPresets.OrangeRed

-- æœ€å°åŒ–æŒ‰é’®åœ†è§’
local MinimizeButtonCorner = Instance.new("UICorner")
MinimizeButtonCorner.Parent = MinimizeButton
MinimizeButtonCorner.CornerRadius = UDim.new(0, 8)

-- æœ€å°åŒ–æŒ‰é’®æè¾¹
local MinimizeButtonStroke = Instance.new("UIStroke")
MinimizeButtonStroke.Parent = MinimizeButton
MinimizeButtonStroke.Color = Color3.fromRGB(80, 80, 100)
MinimizeButtonStroke.Thickness = 1.5

-- å…³é—­æŒ‰é’®
CloseButton.Name = "CloseButton"
CloseButton.Parent = Header
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
CloseButton.Position = UDim2.new(0.87, 0, 0.2, 0) -- åœ¨æœ€å°åŒ–æŒ‰é’®å³è¾¹
CloseButton.Size = UDim2.new(0.1, 0, 0, 30)
CloseButton.Font = FontPresets.Header
CloseButton.Text = "Ã—"
CloseButton.TextColor3 = ColorPalette.Text
CloseButton.TextSize = 22

-- å…³é—­æŒ‰é’®æ¸å˜
CloseButtonGradient.Name = "CloseButtonGradient"
CloseButtonGradient.Parent = CloseButton
CloseButtonGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(244, 67, 54)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(183, 28, 28))
})

-- å…³é—­æŒ‰é’®åœ†è§’
local CloseButtonCorner = Instance.new("UICorner")
CloseButtonCorner.Parent = CloseButton
CloseButtonCorner.CornerRadius = UDim.new(0, 8)

-- å…³é—­æŒ‰é’®æè¾¹
local CloseButtonStroke = Instance.new("UIStroke")
CloseButtonStroke.Parent = CloseButton
CloseButtonStroke.Color = Color3.fromRGB(120, 40, 40)
CloseButtonStroke.Thickness = 1.5

-- åˆ›å»ºå·¦ä¾§å¯¼èˆªæ 
NavigationFrame.Name = "NavigationFrame"
NavigationFrame.Parent = Frame
NavigationFrame.BackgroundColor3 = ColorPalette.Secondary
NavigationFrame.Position = UDim2.new(0, 15, 0, 80)
NavigationFrame.Size = UDim2.new(0, 90, 0, 330) -- é«˜åº¦å¢åŠ ä»¥é€‚åº”æ›´å¤šæŒ‰é’®

-- å¯¼èˆªæ åœ†è§’
NavigationCorner.Parent = NavigationFrame
NavigationCorner.CornerRadius = UDim.new(0, 10)

-- å¯¼èˆªæ æ¸å˜
NavigationGradient.Name = "NavigationGradient"
NavigationGradient.Parent = NavigationFrame
NavigationGradient.Color = GradientPresets.DarkTheme

-- å¯¼èˆªæ æè¾¹
NavigationStroke.Parent = NavigationFrame
NavigationStroke.Color = Color3.fromRGB(70, 70, 90)
NavigationStroke.Thickness = 2
NavigationStroke.LineJoinMode = Enum.LineJoinMode.Round

-- åˆ›å»ºé«˜çº§å¯¼èˆªæŒ‰é’®å‡½æ•°
local function createAdvancedNavButton(name, text, positionY, isServer)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = NavigationFrame
    button.BackgroundColor3 = isServer and Color3.fromRGB(60, 50, 85) or Color3.fromRGB(50, 50, 65)
    button.Position = UDim2.new(0.1, 0, positionY, 0)
    button.Size = UDim2.new(0.8, 0, 0, 32)
    button.Font = FontPresets.Body
    button.Text = text
    button.TextColor3 = ColorPalette.Text
    button.TextSize = 12
    button.TextWrapped = true
    button.AutoButtonColor = false
    
    local gradient = Instance.new("UIGradient")
    gradient.Name = name .. "Gradient"
    gradient.Parent = button
    gradient.Color = isServer and GradientPresets.ServerTheme or GradientPresets.DarkTheme
    
    local corner = Instance.new("UICorner")
    corner.Parent = button
    corner.CornerRadius = UDim.new(0, 8)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = button
    stroke.Color = Color3.fromRGB(90, 90, 110)
    stroke.Thickness = 1.5
    
    -- æ‚¬åœæ•ˆæœ
    button.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {BackgroundColor3 = isServer and Color3.fromRGB(80, 70, 105) or Color3.fromRGB(70, 70, 90)}
        ):Play()
    end)
    
    button.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {BackgroundColor3 = isServer and Color3.fromRGB(60, 50, 85) or Color3.fromRGB(50, 50, 65)}
        ):Play()
    end)
    
    return button, gradient
end

-- åˆ›å»ºå¯¼èˆªæŒ‰é’®
ScriptInfoButton, ScriptInfoButtonGradient = createAdvancedNavButton("ScriptInfoButton", "ğŸ“œ è„šæœ¬ä¿¡æ¯", 0.02, false)
DeveloperButton, DeveloperButtonGradient = createAdvancedNavButton("DeveloperButton", "ğŸ‘¨â€ğŸ’» å¼€å‘äººå‘˜", 0.12, false)
GeneralButton, GeneralButtonGradient = createAdvancedNavButton("GeneralButton", "âš™ï¸ é€šç”¨", 0.22, false)
FEButton, FEButtonGradient = createAdvancedNavButton("FEButton", "ğŸ® FE", 0.32, false)
ESPButton, ESPButtonGradient = createAdvancedNavButton("ESPButton", "ğŸ‘ï¸ ESP", 0.42, false)
BlindFireButton, BlindFireButtonGradient = createAdvancedNavButton("BlindFireButton", "ğŸ¯ ç›²å°„", 0.52, false)
AOTUButton, AOTUButtonGradient = createAdvancedNavButton("AOTUButton", "ğŸ® å‡¹å‡¸ä¸–ç•Œ", 0.62, false)
BoxingButton, BoxingButtonGradient = createAdvancedNavButton("BoxingButton", "ğŸ¥Š æ‹³å‡»æ¨¡æ‹Ÿå™¨", 0.72, false)
ServerButton, ServerButtonGradient = createAdvancedNavButton("ServerButton", "ğŸŒ æœåŠ¡å™¨", 0.82, true)

-- åˆ›å»ºå³ä¾§è„šæœ¬å®¹å™¨
ScriptsContainer.Name = "ScriptsContainer"
ScriptsContainer.Parent = Frame
ScriptsContainer.BackgroundColor3 = ColorPalette.Secondary
ScriptsContainer.Position = UDim2.new(0, 115, 0, 80)
ScriptsContainer.Size = UDim2.new(0, 285, 0, 330) -- é«˜åº¦å¢åŠ 
ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
ScriptsContainer.ScrollBarThickness = 10
ScriptsContainer.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
ScriptsContainer.ScrollBarImageTransparency = 0.5

-- å®¹å™¨åœ†è§’
ContainerCorner.Parent = ScriptsContainer
ContainerCorner.CornerRadius = UDim.new(0, 10)

-- å®¹å™¨æ¸å˜
ContainerGradient.Name = "ContainerGradient"
ContainerGradient.Parent = ScriptsContainer
ContainerGradient.Color = GradientPresets.DarkTheme

-- å®¹å™¨æè¾¹
ContainerStroke.Parent = ScriptsContainer
ContainerStroke.Color = Color3.fromRGB(70, 70, 90)
ContainerStroke.Thickness = 2
ContainerStroke.LineJoinMode = Enum.LineJoinMode.Round

-- å¸ƒå±€å’Œé—´è·
UIListLayout.Parent = ScriptsContainer
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 8)

UIPadding.Parent = ScriptsContainer
UIPadding.PaddingTop = UDim.new(0, 12)
UIPadding.PaddingLeft = UDim.new(0, 12)
UIPadding.PaddingRight = UDim.new(0, 12)

-- åˆ›å»ºé«˜çº§å½©è‰²æ–‡æœ¬æ ‡ç­¾å‡½æ•°
local function createAdvancedColorTextLabel(text, sizeY)
    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
    frame.BackgroundTransparency = 0.2
    frame.Size = UDim2.new(1, -24, 0, sizeY)
    frame.LayoutOrder = #ScriptsContainer:GetChildren()
    
    local corner = Instance.new("UICorner")
    corner.Parent = frame
    corner.CornerRadius = UDim.new(0, 8)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = frame
    stroke.Color = Color3.fromRGB(90, 90, 110)
    stroke.Thickness = 1.5
    
    local gradient = Instance.new("UIGradient")
    gradient.Parent = frame
    gradient.Color = GradientPresets.DarkTheme
    gradient.Transparency = NumberSequence.new(0.2)
    
    local label = Instance.new("TextLabel")
    label.Name = "TextLabel"
    label.Parent = frame
    label.BackgroundTransparency = 1
    label.Size = UDim2.new(1, -16, 1, -16)
    label.Position = UDim2.new(0, 8, 0, 8)
    label.Font = FontPresets.Body
    label.Text = text
    label.TextColor3 = ColorPalette.Text -- ä½¿ç”¨æ›´äº®çš„é¢œè‰²
    label.TextSize = 14
    label.TextWrapped = true
    label.TextYAlignment = Enum.TextYAlignment.Top
    label.RichText = true
    
    local textStroke = Instance.new("UIStroke")
    textStroke.Parent = label
    textStroke.Color = Color3.fromRGB(255, 0, 0)
    textStroke.Thickness = 1.2
    textStroke.LineJoinMode = Enum.LineJoinMode.Round
    textStroke.Transparency = 0.3
    
    -- å½©è™¹åŠ¨ç”»
    spawn(function()
        while frame.Parent do
            for i = 1, #colorSequence.Keypoints do
                local nextIndex = i % #colorSequence.Keypoints + 1
                local tweenInfo = TweenInfo.new(
                    0.6,
                    Enum.EasingStyle.Sine,
                    Enum.EasingDirection.InOut
                )
                local tween = game:GetService("TweenService"):Create(
                    textStroke,
                    tweenInfo,
                    {Color = colorSequence.Keypoints[nextIndex].Value}
                )
                tween:Play()
                tween.Completed:Wait()
            end
        end
    end)
    
    return frame
end

-- åˆ›å»ºé«˜çº§å¼€å…³æŒ‰é’®å‡½æ•°
local function createAdvancedToggleButton(state)
    local button = Instance.new("TextButton")
    button.BackgroundColor3 = state and ColorPalette.Success or ColorPalette.Danger
    button.Size = UDim2.new(0, 65, 0, 28)
    button.Font = FontPresets.Body
    button.Text = state and "ğŸŸ¢ ON" or "ğŸ”´ OFF"
    button.TextColor3 = ColorPalette.Text
    button.TextSize = 13
    
    local corner = Instance.new("UICorner")
    corner.Parent = button
    corner.CornerRadius = UDim.new(0, 6)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = button
    stroke.Color = Color3.fromRGB(80, 80, 100)
    stroke.Thickness = 1.5
    
    local gradient = Instance.new("UIGradient")
    gradient.Parent = button
    gradient.Color = state and GradientPresets.GreenCyan or GradientPresets.OrangeRed
    
    -- æ‚¬åœæ•ˆæœ
    button.MouseEnter:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Size = UDim2.new(0, 68, 0, 30)}
        ):Play()
    end)
    
    button.MouseLeave:Connect(function()
        game:GetService("TweenService"):Create(
            button,
            TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
            {Size = UDim2.new(0, 65, 0, 28)}
        ):Play()
    end)
    
    return button, gradient
end

-- åˆ›å»ºé«˜çº§åŠŸèƒ½è¡Œå‡½æ•°
local function createAdvancedFeatureRow(name, hasToggle, toggleState, callback)
    local frame = Instance.new("Frame")
    frame.BackgroundColor3 = Color3.fromRGB(45, 45, 60)
    frame.BackgroundTransparency = 0.1
    frame.Size = UDim2.new(1, -24, 0, 42)
    frame.LayoutOrder = #ScriptsContainer:GetChildren()
    
    local corner = Instance.new("UICorner")
    corner.Parent = frame
    corner.CornerRadius = UDim.new(0, 8)
    
    local stroke = Instance.new("UIStroke")
    stroke.Parent = frame
    stroke.Color = Color3.fromRGB(80, 80, 100)
    stroke.Thickness = 1.5
    
    local gradient = Instance.new("UIGradient")
    gradient.Parent = frame
    gradient.Color = GradientPresets.DarkTheme
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Name = "NameLabel"
    nameLabel.Parent = frame
    nameLabel.BackgroundTransparency = 1
    nameLabel.Position = UDim2.new(0, 12, 0, 0)
    nameLabel.Size = hasToggle and UDim2.new(0.7, 0, 1, 0) or UDim2.new(1, -24, 1, 0)
    nameLabel.Font = FontPresets.Body
    nameLabel.Text = name
    nameLabel.TextColor3 = ColorPalette.Text -- ä½¿ç”¨æ›´äº®çš„é¢œè‰²
    nameLabel.TextSize = 14
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- æ–‡å­—å‘å…‰æ•ˆæœ
    local nameGlow = Instance.new("UIStroke")
    nameGlow.Parent = nameLabel
    nameGlow.Color = Color3.fromRGB(100, 100, 150)
    nameGlow.Thickness = 1
    nameGlow.Transparency = 0.7
    
    if hasToggle then
        local toggleButton, toggleGradient = createAdvancedToggleButton(toggleState)
        toggleButton.Parent = frame
        toggleButton.Position = UDim2.new(0.75, 0, 0.25, 0)
        
        toggleButton.MouseButton1Click:Connect(function()
            local newState = not toggleState
            toggleState = newState
            toggleButton.BackgroundColor3 = newState and ColorPalette.Success or ColorPalette.Danger
            toggleButton.Text = newState and "ğŸŸ¢ ON" or "ğŸ”´ OFF"
            toggleGradient.Color = newState and GradientPresets.GreenCyan or GradientPresets.OrangeRed
            
            if callback then
                callback(newState)
            end
        end)
        
        return frame, toggleState
    else
        -- æ‚¬åœæ•ˆæœ
        frame.MouseEnter:Connect(function()
            game:GetService("TweenService"):Create(
                frame,
                TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = Color3.fromRGB(55, 55, 75)}
            ):Play()
        end)
        
        frame.MouseLeave:Connect(function()
            game:GetService("TweenService"):Create(
                frame,
                TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = Color3.fromRGB(45, 45, 60)}
            ):Play()
        end)
        
        frame.MouseButton1Click:Connect(function()
            if callback then
                callback()
            end
        end)
        
        return frame
    end
end

-- æ— é™è·³åŠŸèƒ½
local function toggleInfiniteJump(state)
    infiniteJumpEnabled = state
    if state then
        local player = game:GetService("Players").LocalPlayer
        local connection
        connection = game:GetService("UserInputService").JumpRequest:Connect(function()
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                player.Character.Humanoid:ChangeState("Jumping")
            end
        end)
        toggleInfiniteJump.connection = connection
    else
        if toggleInfiniteJump.connection then
            toggleInfiniteJump.connection:Disconnect()
            toggleInfiniteJump.connection = nil
        end
    end
end

-- ä¸€é”®å»é›¾åŠŸèƒ½
local function toggleFogRemover(state)
    fogRemoverEnabled = state
    if state then
        if game:GetService("Lighting"):FindFirstChild("FogStart") then
            game:GetService("Lighting").FogStart = 1000000
        end
        if game:GetService("Lighting"):FindFirstChild("FogEnd") then
            game:GetService("Lighting").FogEnd = 1000000
        end
    else
        if game:GetService("Lighting"):FindFirstChild("FogStart") then
            game:GetService("Lighting").FogStart = 0
        end
        if game:GetService("Lighting"):FindFirstChild("FogEnd") then
            game:GetService("Lighting").FogEnd = 100000
        end
    end
end

-- å¤œè§†åŠŸèƒ½
local function toggleNightVision(state)
    nightVisionEnabled = state
    if state then
        game:GetService("Lighting").Brightness = 2
        game:GetService("Lighting").Ambient = Color3.fromRGB(255, 255, 255)
    else
        game:GetService("Lighting").Brightness = 1
        game:GetService("Lighting").Ambient = Color3.fromRGB(0.5, 0.5, 0.5)
    end
end

-- åœ°å›¾é€è§†åŠŸèƒ½
local function toggleMapWallhack()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and not obj:IsA("Terrain") then
            obj.LocalTransparencyModifier = 0.5
        end
    end
end

-- é£è¡Œè„šæœ¬åŠŸèƒ½
local function executeFlightScript()
    local main = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local up = Instance.new("TextButton")
    local down = Instance.new("TextButton")
    local onof = Instance.new("TextButton")
    local TextLabel = Instance.new("TextLabel")
    local plus = Instance.new("TextButton")
    local speed = Instance.new("TextLabel")
    local mine = Instance.new("TextButton")
    local closebutton = Instance.new("TextButton")
    local mini = Instance.new("TextButton")
    local mini2 = Instance.new("TextButton")

    main.Name = "main"
    main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    main.ResetOnSpawn = false

    Frame.Parent = main
    Frame.BackgroundColor3 = Color3.fromRGB(163, 255, 137)
    Frame.BorderColor3 = Color3.fromRGB(103, 221, 213)
    Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
    Frame.Size = UDim2.new(0, 190, 0, 57)

    up.Name = "up"
    up.Parent = Frame
    up.BackgroundColor3 = Color3.fromRGB(79, 255, 152)
    up.Size = UDim2.new(0, 44, 0, 28)
    up.Font = Enum.Font.SourceSans
    up.Text = "ä¸Šå‡"
    up.TextColor3 = Color3.fromRGB(0, 0, 0)
    up.TextSize = 14.000

    down.Name = "down"
    down.Parent = Frame
    down.BackgroundColor3 = Color3.fromRGB(215, 255, 121)
    down.Position = UDim2.new(0, 0, 0.491228074, 0)
    down.Size = UDim2.new(0, 44, 0, 28)
    down.Font = Enum.Font.SourceSans
    down.Text = "ä¸‹é™"
    down.TextColor3 = Color3.fromRGB(0, 0, 0)
    down.TextSize = 14.000

    onof.Name = "onof"
    onof.Parent = Frame
    onof.BackgroundColor3 = Color3.fromRGB(255, 249, 74)
    onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
    onof.Size = UDim2.new(0, 56, 0, 28)
    onof.Font = Enum.Font.SourceSans
    onof.Text = "é£è¡Œ(GO)"
    onof.TextColor3 = Color3.fromRGB(0, 0, 0)
    onof.TextSize = 14.000

    TextLabel.Parent = Frame
    TextLabel.BackgroundColor3 = Color3.fromRGB(242, 60, 255)
    TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
    TextLabel.Size = UDim2.new(0, 100, 0, 28)
    TextLabel.Font = Enum.Font.SourceSans
    TextLabel.Text = "NZ Script Center"
    TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.TextScaled = true
    TextLabel.TextSize = 14.000
    TextLabel.TextWrapped = true

    plus.Name = "plus"
    plus.Parent = Frame
    plus.BackgroundColor3 = Color3.fromRGB(133, 145, 255)
    plus.Position = UDim2.new(0.231578946, 0, 0, 0)
    plus.Size = UDim2.new(0, 45, 0, 28)
    plus.Font = Enum.Font.SourceSans
    plus.Text = "é£è¡Œé€Ÿåº¦+1"
    plus.TextColor3 = Color3.fromRGB(0, 0, 0)
    plus.TextScaled = true
    plus.TextSize = 14.000
    plus.TextWrapped = true

    speed.Name = "speed"
    speed.Parent = Frame
    speed.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
    speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
    speed.Size = UDim2.new(0, 44, 0, 28)
    speed.Font = Enum.Font.SourceSans
    speed.Text = "1"
    speed.TextColor3 = Color3.fromRGB(0, 0, 0)
    speed.TextScaled = true
    speed.TextSize = 14.000
    speed.TextWrapped = true

    mine.Name = "mine"
    mine.Parent = Frame
    mine.BackgroundColor3 = Color3.fromRGB(123, 255, 247)
    mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
    mine.Size = UDim2.new(0, 45, 0, 29)
    mine.Font = Enum.Font.SourceSans
    mine.Text = "é£è¡Œé€Ÿåº¦-1"
    mine.TextColor3 = Color3.fromRGB(0, 0, 0)
    mine.TextScaled = true
    mine.TextSize = 14.000
    mine.TextWrapped = true

    closebutton.Name = "Close"
    closebutton.Parent = main.Frame
    closebutton.BackgroundColor3 = Color3.fromRGB(225, 25, 0)
    closebutton.Font = "SourceSans"
    closebutton.Size = UDim2.new(0, 45, 0, 28)
    closebutton.Text = "å…³é—­"
    closebutton.TextSize = 30
    closebutton.Position =  UDim2.new(0, 0, -1, 27)

    mini.Name = "minimize"
    mini.Parent = main.Frame
    mini.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
    mini.Font = "SourceSans"
    mini.Size = UDim2.new(0, 45, 0, 28)
    mini.Text = "æŠ˜å "
    mini.TextSize = 30
    mini.Position = UDim2.new(0, 44, -1, 27)

    mini2.Name = "minimize2"
    mini2.Parent = main.Frame
    mini2.BackgroundColor3 = Color3.fromRGB(192, 150, 230)
    mini2.Font = "SourceSans"
    mini2.Size = UDim2.new(0, 45, 0, 28)
    mini2.Text = "å±•å¼€"
    mini2.TextSize = 30
    mini2.Position = UDim2.new(0, 44, -1, 57)
    mini2.Visible = false

    local speeds = 1

    local speaker = game:GetService("Players").LocalPlayer

    local chr = game.Players.LocalPlayer.Character
    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")

    local nowe = false

    game:GetService("StarterGui"):SetCore("SendNotification", { 
        Title = "Fly GUI V3";
        Text = "By me_ozone and Quandale The Dinglish XII#3550";
        Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150"})
    Duration = 5;

    Frame.Active = true -- main = gui
    Frame.Draggable = true

    onof.MouseButton1Down:connect(function()

        if nowe == true then
            nowe = false

            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
            speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
        else 
            nowe = true



            for i = 1, speeds do
                spawn(function()

                    local hb = game:GetService("RunService").Heartbeat	


                    local tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end

                end)
            end
            game.Players.LocalPlayer.Character.Animate.Disabled = true
            local Char = game.Players.LocalPlayer.Character
            local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")

            for i,v in next, Hum:GetPlayingAnimationTracks() do
                v:AdjustSpeed(0)
            end
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
            speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
            speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
        end




        if game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then



            local plr = game.Players.LocalPlayer
            local torso = plr.Character.Torso
            local flying = true
            local deb = true
            local ctrl = {f = 0, b = 0, l = 0, r = 0}
            local lastctrl = {f = 0, b = 0, l = 0, r = 0}
            local maxspeed = 50
            local speed = 0


            local bg = Instance.new("BodyGyro", torso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = torso.CFrame
            local bv = Instance.new("BodyVelocity", torso)
            bv.velocity = Vector3.new(0,0.1,0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            if nowe == true then
                plr.Character.Humanoid.PlatformStand = true
            end
            while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
                game:GetService("RunService").RenderStepped:Wait()

                if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                    speed = speed+.5+(speed/maxspeed)
                    if speed > maxspeed then
                        speed = maxspeed
                    end
                elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                    speed = speed-1
                    if speed < 0 then
                        speed = 0
                    end
                end
                if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                    lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
                elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                else
                    bv.velocity = Vector3.new(0,0,0)
                end
                --	game.Players.LocalPlayer.Character.Animate.Disabled = true
                bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
            end
            ctrl = {f = 0, b = 0, l = 0, r = 0}
            lastctrl = {f = 0, b = 0, l = 0, r = 0}
            speed = 0
            bg:Destroy()
            bv:Destroy()
            plr.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
            tpwalking = false




        else
            local plr = game.Players.LocalPlayer
            local UpperTorso = plr.Character.UpperTorso
            local flying = true
            local deb = true
            local ctrl = {f = 0, b = 0, l = 0, r = 0}
            local lastctrl = {f = 0, b = 0, l = 0, r = 0}
            local maxspeed = 50
            local speed = 0


            local bg = Instance.new("BodyGyro", UpperTorso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = UpperTorso.CFrame
            local bv = Instance.new("BodyVelocity", UpperTorso)
            bv.velocity = Vector3.new(0,0.1,0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            if nowe == true then
                plr.Character.Humanoid.PlatformStand = true
            end
            while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
                wait()

                if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                    speed = speed+.5+(speed/maxspeed)
                    if speed > maxspeed then
                        speed = maxspeed
                    end
                elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                    speed = speed-1
                    if speed < 0 then
                        speed = 0
                    end
                end
                if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                    lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
                elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                else
                    bv.velocity = Vector3.new(0,0,0)
                end

                bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
            end
            ctrl = {f = 0, b = 0, l = 0, r = 0}
            lastctrl = {f = 0, b = 0, l = 0, r = 0}
            speed = 0
            bg:Destroy()
            bv:Destroy()
            plr.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
            tpwalking = false



        end





    end)

    local tis

    up.MouseButton1Down:connect(function()
        tis = up.MouseEnter:connect(function()
            while tis do
                wait()
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,1,0)
            end
        end)
    end)

    up.MouseLeave:connect(function()
        if tis then
            tis:Disconnect()
            tis = nil
        end
    end)

    local dis

    down.MouseButton1Down:connect(function()
        dis = down.MouseEnter:connect(function()
            while dis do
                wait()
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-1,0)
            end
        end)
    end)

    down.MouseLeave:connect(function()
        if dis then
            dis:Disconnect()
            dis = nil
        end
    end)


    game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
        wait(0.7)
        game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false

    end)


    plus.MouseButton1Down:connect(function()
        speeds = speeds + 1
        speed.Text = speeds
        if nowe == true then


            local tpwalking = false
            for i = 1, speeds do
                spawn(function()

                    local hb = game:GetService("RunService").Heartbeat	


                    tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end

                end)
            end
        end
    end)
    mine.MouseButton1Down:connect(function()
        if speeds == 1 then
            speed.Text = 'é£è¡Œé€Ÿåº¦ä¸å¯ä½äº1'
            wait(1)
            speed.Text = speeds
        else
            speeds = speeds - 1
            speed.Text = speeds
            if nowe == true then
                local tpwalking = false
                for i = 1, speeds do
                    spawn(function()

                        local hb = game:GetService("RunService").Heartbeat	


                        tpwalking = true
                        local chr = game.Players.LocalPlayer.Character
                        local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                        while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                            if hum.MoveDirection.Magnitude > 0 then
                                chr:TranslateBy(hum.MoveDirection)
                            end
                        end

                    end)
                end
            end
        end
    end)

    closebutton.MouseButton1Click:Connect(function()
        main:Destroy()
    end)

    mini.MouseButton1Click:Connect(function()
        up.Visible = false
        down.Visible = false
        onof.Visible = false
        plus.Visible = false
        speed.Visible = false
        mine.Visible = false
        mini.Visible = false
        mini2.Visible = true
        main.Frame.BackgroundTransparency = 1
        closebutton.Position =  UDim2.new(0, 0, -1, 57)
    end)

    mini2.MouseButton1Click:Connect(function()
        up.Visible = true
        down.Visible = true
        onof.Visible = true
        plus.Visible = true
        speed.Visible = true
        mine.Visible = true
        mini.Visible = true
        mini2.Visible = false
        main.Frame.BackgroundTransparency = 0 
        closebutton.Position =  UDim2.new(0, 0, -1, 27)
    end)
    
    -- åˆ›å»ºé«˜çº§é€šçŸ¥
    local notification = Instance.new("Frame")
    notification.Name = "FlightNotification"
    notification.Parent = ScreenGui
    notification.BackgroundColor3 = ColorPalette.Primary
    notification.Size = UDim2.new(0, 220, 0, 70)
    notification.Position = UDim2.new(1, -240, 1, -90)
    notification.ZIndex = 100
    
    local notificationCorner = Instance.new("UICorner")
    notificationCorner.Parent = notification
    notificationCorner.CornerRadius = UDim.new(0, 12)
    
    local notificationGradient = Instance.new("UIGradient")
    notificationGradient.Parent = notification
    notificationGradient.Color = GradientPresets.GreenCyan
    
    local notificationStroke = Instance.new("UIStroke")
    notificationStroke.Parent = notification
    notificationStroke.Color = Color3.fromRGB(255, 0, 0)
    notificationStroke.Thickness = 2.5
    notificationStroke.LineJoinMode = Enum.LineJoinMode.Round
    
    -- å½©è™¹åŠ¨ç”»
    spawn(function()
        while notification.Parent do
            for i = 1, #colorSequence.Keypoints do
                local nextIndex = i % #colorSequence.Keypoints + 1
                local tweenInfo = TweenInfo.new(
                    0.5,
                    Enum.EasingStyle.Sine,
                    Enum.EasingDirection.InOut
                )
                local tween = game:GetService("TweenService"):Create(
                    notificationStroke,
                    tweenInfo,
                    {Color = colorSequence.Keypoints[nextIndex].Value}
                )
                tween:Play()
                tween.Completed:Wait()
            end
        end
    end)
    
    local icon = Instance.new("TextLabel")
    icon.Parent = notification
    icon.BackgroundTransparency = 1
    icon.Size = UDim2.new(0, 40, 1, 0)
    icon.Font = Enum.Font.GothamBold
    icon.Text = "ğŸš€"
    icon.TextColor3 = ColorPalette.Text
    icon.TextSize = 24
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = notification
    textLabel.BackgroundTransparency = 1
    textLabel.Position = UDim2.new(0, 45, 0, 0)
    textLabel.Size = UDim2.new(1, -45, 1, 0)
    textLabel.Font = FontPresets.Header
    textLabel.Text = "é£è¡Œè„šæœ¬å·²æ¿€æ´»!"
    textLabel.TextColor3 = ColorPalette.Text
    textLabel.TextSize = 16
    textLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- æ·¡å‡ºåŠ¨ç”»
    wait(3)
    game:GetService("TweenService"):Create(
        notification,
        TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundTransparency = 1}
    ):Play()
    wait(0.5)
    notification:Destroy()
end

-- é«˜äº®æ˜¾ç¤ºæ•ŒäººåŠŸèƒ½
local function toggleHighlightEnemy(state)
    highlightEnemyEnabled = state
    print("é«˜äº®æ˜¾ç¤ºæ•Œäºº: " .. (state and "å¼€å¯" or "å…³é—­"))
end

-- é˜Ÿä¼æ£€æµ‹åŠŸèƒ½
local function toggleTeamCheck(state)
    teamCheckEnabled = state
    print("é˜Ÿä¼æ£€æµ‹: " .. (state and "å¼€å¯" or "å…³é—­"))
end

-- æ˜¾ç¤ºç¢°æ’ç®±åŠŸèƒ½
local function toggleShowHitbox(state)
    showHitboxEnabled = state
    print("æ˜¾ç¤ºç¢°æ’ç®±: " .. (state and "å¼€å¯" or "å…³é—­"))
end

-- é˜²å‡»æ‰“åŠŸèƒ½
local function toggleAntiHit(state)
    antiHitEnabled = state
    if state then
        local player = game:GetService("Players").LocalPlayer
        if player.Character then
            local hitbox = Instance.new("Part")
            hitbox.Name = "AntiHitHitbox"
            hitbox.Size = Vector3.new(5, 1, 5)
            hitbox.Position = player.Character.HumanoidRootPart.Position - Vector3.new(0, 3, 0)
            hitbox.Transparency = 0.7
            hitbox.Color = Color3.fromRGB(255, 0, 0)
            hitbox.Material = EnumMaterial.Neon
            hitbox.Anchored = true
            hitbox.CanCollide = true
            hitbox.Parent = workspace
            
            spawn(function()
                while antiHitEnabled and player.Character do
                    hitbox.Position = player.Character.HumanoidRootPart.Position - Vector3.new(0, 3, 0)
                    wait()
                end
                hitbox:Destroy()
            end)
        end
    else
        local hitbox = workspace:FindFirstChild("AntiHitHitbox")
        if hitbox then
            hitbox:Destroy()
        end
    end
end

-- é€è§†åŠŸèƒ½
local function toggleEnemyHitbox(state)
    enemyHitboxEnabled = state
    print("æ•Œäººç¢°æ’ç®±é€è§†: " .. (state and "å¼€å¯" or "å…³é—­"))
end

-- è‡ªåŠ¨æ‹¾å–è£åˆ¤çƒåŠŸèƒ½
local function toggleAutoCollectBall(state)
    autoCollectBallEnabled = state
    if state then
        if autoCollectThread then
            autoCollectThread:Disconnect()
            autoCollectThread = nil
        end
        
        autoCollectThread = game:GetService("RunService").Heartbeat:Connect(function()
            local args = {
                2,
                {
                    1,
                    1,
                    19
                }
            }
            local success, err = pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Project"):WaitForChild("RemoteEvent"):WaitForChild("ControlMessageEvent"):FireServer(unpack(args))
            end)
            if not success then
                warn("è‡ªåŠ¨æ‹¾å–è£åˆ¤çƒé”™è¯¯: " .. err)
            end
        end)
    else
        if autoCollectThread then
            autoCollectThread:Disconnect()
            autoCollectThread = nil
        end
    end
end

-- è‡ªåŠ¨æŒ¥æ‹³åŠŸèƒ½
local function toggleAutoPunch(state)
    autoPunchEnabled = state
    if state then
        if autoPunchThread then
            autoPunchThread:Disconnect()
            autoPunchThread = nil
        end
        
        autoPunchThread = game:GetService("RunService").Heartbeat:Connect(function()
            local args = {
                {"Activate_Punch"}
            }
            local success, err = pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
            end)
            if not success then
                warn("è‡ªåŠ¨æŒ¥æ‹³é”™è¯¯: " .. err)
            end
        end)
    else
        if autoPunchThread then
            autoPunchThread:Disconnect()
            autoPunchThread = nil
        end
    end
end

-- æœåŠ¡å™¨æ£€æµ‹åŠŸèƒ½
local function toggleServerDetection(state)
    serverDetectionEnabled = state
    if state then
        if serverDetectionThread then
            serverDetectionThread:Disconnect()
            serverDetectionThread = nil
        end
        
        serverDetectionThread = game:GetService("RunService").Heartbeat:Connect(function()
            -- è·å–æ¸¸æˆåç§°æˆ–ID
            local gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
            local placeId = game.PlaceId
            
            -- æ£€æŸ¥æ˜¯å¦æ”¯æŒå½“å‰æœåŠ¡å™¨
            for serverName, scriptFunction in pairs(SupportedServers) do
                -- ç®€å•çš„å­—ç¬¦ä¸²åŒ¹é…ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹åŒ¹é…é€»è¾‘
                if string.find(gameName:lower(), serverName:lower()) then
                    -- æ˜¾ç¤ºé€šçŸ¥
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "æœåŠ¡å™¨æ£€æµ‹",
                        Text = "æ£€æµ‹åˆ°æœåŠ¡å™¨: " .. serverName .. "\næ­£åœ¨æ‰§è¡Œå¯¹åº”è„šæœ¬...",
                        Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150",
                        Duration = 5
                    })
                    
                    -- æ‰§è¡Œå¯¹åº”è„šæœ¬
                    pcall(scriptFunction)
                    
                    -- åœæ­¢æ£€æµ‹
                    if serverDetectionThread then
                        serverDetectionThread:Disconnect()
                        serverDetectionThread = nil
                    end
                    break
                end
            end
        end)
    else
        if serverDetectionThread then
            serverDetectionThread:Disconnect()
            serverDetectionThread = nil
        end
    end
end

-- æ‰‹åŠ¨æ£€æŸ¥å½“å‰æœåŠ¡å™¨
local function checkCurrentServer()
    local gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
    local placeId = game.PlaceId
    
    -- æ£€æŸ¥æ˜¯å¦æ”¯æŒå½“å‰æœåŠ¡å™¨
    for serverName, scriptFunction in pairs(SupportedServers) do
        if string.find(gameName:lower(), serverName:lower()) then
            -- æ˜¾ç¤ºé€šçŸ¥
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "æœåŠ¡å™¨æ£€æµ‹",
                Text = "æ£€æµ‹åˆ°æœåŠ¡å™¨: " .. serverName .. "\næ­£åœ¨æ‰§è¡Œå¯¹åº”è„šæœ¬...",
                Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150",
                Duration = 5
            })
            
            -- æ‰§è¡Œå¯¹åº”è„šæœ¬
            pcall(scriptFunction)
            return true
        end
    end
    
    -- æ²¡æœ‰æ‰¾åˆ°æ”¯æŒçš„æœåŠ¡å™¨
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "æœåŠ¡å™¨æ£€æµ‹",
        Text = "å½“å‰æœåŠ¡å™¨ä¸æ”¯æŒè‡ªåŠ¨æ‰§è¡Œè„šæœ¬\næœåŠ¡å™¨åç§°: " .. gameName,
        Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150",
        Duration = 5
    })
    return false
end

-- åŠ è½½æŒ‡å®šç±»å‹çš„è„šæœ¬
local function loadCategory(category)
    for _, child in ipairs(ScriptsContainer:GetChildren()) do
        if child:IsA("Frame") then
            child:Destroy()
        end
    end
    
    local totalHeight = 12
    
    if category == "ScriptInfo" then
        local infoText = createAdvancedColorTextLabel("<font color='#FF6B9D'>ğŸ“œ æœ¬è„šæœ¬æ°¸è¿œå…¬ç›Šï¼Œè¯·å¤šå¤šå®£ä¼ </font>\n\n<font color='#4FC3F7'>ğŸ’¬ è¯·è¿›å…¥äº¤æµç¾¤ ğŸ§</font>\n<font color='#FFD740'>ç¾¤å·ï¼š445825485</font>\n\n<font color='#69F0AE'>âœ¨ æ„Ÿè°¢æ‚¨çš„ä½¿ç”¨ä¸æ”¯æŒï¼</font>", 120)
        infoText.Parent = ScriptsContainer
        totalHeight = totalHeight + 130
    elseif category == "Developer" then
        local devText = createAdvancedColorTextLabel("<font color='#FF8A65'>ğŸ‘‘ ä¸»ä½œè€…ï¼šå—çƒ›</font>\n\n<font color='#64FFDA'>ğŸ‘¨â€ğŸ’» å‰¯ä½œè€…ï¼šæ·±æ‹¥æƒ…è¯æ¢¦ä¸€åœº</font>\n\n<font color='#FFD740'>ğŸ¤ ä»£ç†ï¼šé€é¥</font>\n<font color='#FFD740'>         å­™ç¬‘å·</font>\n<font color='#FFD740'>           ä»¥å</font>", 150)
        devText.Parent = ScriptsContainer
        totalHeight = totalHeight + 160
    elseif category == "General" then
        local infiniteJumpRow, infiniteJumpState = createAdvancedFeatureRow("ğŸ¦˜ æ— é™è·³", true, infiniteJumpEnabled, toggleInfiniteJump)
        infiniteJumpRow.Parent = ScriptsContainer
        infiniteJumpEnabled = infiniteJumpState
        totalHeight = totalHeight + 50
        
        local fogRemoverRow, fogRemoverState = createAdvancedFeatureRow("ğŸŒ«ï¸ ä¸€é”®å»é›¾", true, fogRemoverEnabled, toggleFogRemover)
        fogRemoverRow.Parent = ScriptsContainer
        fogRemoverEnabled = fogRemoverState
        totalHeight = totalHeight + 50
        
        local nightVisionRow, nightVisionState = createAdvancedFeatureRow("ğŸŒ™ å¤œè§†", true, nightVisionEnabled, toggleNightVision)
        nightVisionRow.Parent = ScriptsContainer
        nightVisionEnabled = nightVisionState
        totalHeight = totalHeight + 50
        
        local mapWallhackRow = createAdvancedFeatureRow("ğŸ‘ï¸ åœ°å›¾é€è§†", false, false, toggleMapWallhack)
        mapWallhackRow.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
        
        local flightRow = createAdvancedFeatureRow("ğŸš€ é£è¡Œ", false, false, executeFlightScript)
        flightRow.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
    elseif category == "FE" then
        local feText = createAdvancedColorTextLabel("ğŸ® <font color='#FF9800'>FE åŠŸèƒ½å¼€å‘ä¸­...</font>\n\n<font color='#B39DDB'>æ•¬è¯·æœŸå¾…åç»­æ›´æ–°ï¼</font>", 80)
        feText.Parent = ScriptsContainer
        totalHeight = totalHeight + 90
    elseif category == "ESP" then
        local highlightEnemyRow, highlightEnemyState = createAdvancedFeatureRow("ğŸ‘ï¸ é«˜äº®æ˜¾ç¤ºæ•Œäºº", true, highlightEnemyEnabled, toggleHighlightEnemy)
        highlightEnemyRow.Parent = ScriptsContainer
        highlightEnemyEnabled = highlightEnemyState
        totalHeight = totalHeight + 50
        
        local teamCheckRow, teamCheckState = createAdvancedFeatureRow("ğŸ¯ é˜Ÿä¼æ£€æµ‹", true, teamCheckEnabled, toggleTeamCheck)
        teamCheckRow.Parent = ScriptsContainer
        teamCheckEnabled = teamCheckState
        totalHeight = totalHeight + 50
        
        local showHitboxRow, showHitboxState = createAdvancedFeatureRow("ğŸ“¦ æ˜¾ç¤ºç¢°æ’ç®±", true, showHitboxEnabled, toggleShowHitbox)
        showHitboxRow.Parent = ScriptsContainer
        showHitboxEnabled = showHitboxState
        totalHeight = totalHeight + 50
        
        local smallText = Instance.new("TextLabel")
        smallText.Parent = showHitboxRow
        smallText.BackgroundTransparency = 1
        smallText.Position = UDim2.new(0, 12, 0.6, 0)
        smallText.Size = UDim2.new(1, -24, 0.4, 0)
        smallText.Font = FontPresets.Monospace
        smallText.Text = "ğŸ¯ ç›²å°„ä¸“ç”¨"
        smallText.TextColor3 = Color3.fromRGB(180, 180, 200)
        smallText.TextSize = 11
        smallText.TextXAlignment = Enum.TextXAlignment.Left
    elseif category == "BlindFire" then
        local antiHitRow, antiHitState = createAdvancedFeatureRow("ğŸ›¡ï¸ é˜²å‡»æ‰“", true, antiHitEnabled, toggleAntiHit)
        antiHitRow.Parent = ScriptsContainer
        antiHitEnabled = antiHitState
        totalHeight = totalHeight + 50
        
        local enemyHitboxRow, enemyHitboxState = createAdvancedFeatureRow("ğŸ” é€è§†", true, enemyHitboxEnabled, toggleEnemyHitbox)
        enemyHitboxRow.Parent = ScriptsContainer
        enemyHitboxEnabled = enemyHitboxState
        totalHeight = totalHeight + 50
    elseif category == "AOTU" then
        local autoCollectRow, autoCollectState = createAdvancedFeatureRow("âš½ è‡ªåŠ¨æ‹¾å–è£åˆ¤çƒ", true, autoCollectBallEnabled, toggleAutoCollectBall)
        autoCollectRow.Parent = ScriptsContainer
        autoCollectBallEnabled = autoCollectState
        totalHeight = totalHeight + 50
        
        local aotuText = createAdvancedColorTextLabel("ğŸ® <font color='#FF9800'>å‡¹å‡¸ä¸–ç•Œä¸“ç”¨åŠŸèƒ½</font>\n\n<font color='#B39DDB'>è‡ªåŠ¨æ‹¾å–è£åˆ¤çƒä¼šè‡ªåŠ¨æ”¶é›†æ¯”èµ›ä¸­çš„è£åˆ¤çƒ</font>", 80)
        aotuText.Parent = ScriptsContainer
        totalHeight = totalHeight + 90
    elseif category == "Boxing" then
        local autoPunchRow, autoPunchState = createAdvancedFeatureRow("ğŸ¥Š è‡ªåŠ¨æŒ¥æ‹³", true, autoPunchEnabled, toggleAutoPunch)
        autoPunchRow.Parent = ScriptsContainer
        autoPunchEnabled = autoPunchState
        totalHeight = totalHeight + 50
        
        local boxingText = createAdvancedColorTextLabel("ğŸ¥Š <font color='#FF9800'>æœ€å¼ºæ‹³å‡»æ¨¡æ‹Ÿå™¨ä¸“ç”¨</font>\n\n<font color='#B39DDB'>è‡ªåŠ¨æŒ¥æ‹³åŠŸèƒ½ä¼šè‡ªåŠ¨è¿›è¡Œæ”»å‡»</font>", 80)
        boxingText.Parent = ScriptsContainer
        totalHeight = totalHeight + 90
    elseif category == "Server" then
        local serverDetectionRow, serverDetectionState = createAdvancedFeatureRow("ğŸŒ è‡ªåŠ¨æ£€æµ‹æœåŠ¡å™¨", true, serverDetectionEnabled, toggleServerDetection)
        serverDetectionRow.Parent = ScriptsContainer
        serverDetectionEnabled = serverDetectionState
        totalHeight = totalHeight + 50
        
        local checkServerRow = createAdvancedFeatureRow("ğŸ” æ£€æŸ¥å½“å‰æœåŠ¡å™¨", false, false, checkCurrentServer)
        checkServerRow.Parent = ScriptsContainer
        totalHeight = totalHeight + 50
        
        -- æ˜¾ç¤ºæ”¯æŒçš„æœåŠ¡å™¨åˆ—è¡¨
        local supportedServersText = "ğŸ“‹ <font color='#9370DB'>å½“å‰æ”¯æŒçš„æœåŠ¡å™¨åˆ—è¡¨:</font>\n\n"
        local serverCount = 0
        for serverName, _ in pairs(SupportedServers) do
            serverCount = serverCount + 1
            supportedServersText = supportedServersText .. "<font color='#FFD740'>" .. serverCount .. ". " .. serverName .. "</font>\n"
        end
        
        supportedServersText = supportedServersText .. "\n<font color='#4FC3F7'>ğŸ’¡ æç¤º: å¼€å¯è‡ªåŠ¨æ£€æµ‹åï¼Œè¿›å…¥æ”¯æŒçš„æ¸¸æˆæ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”è„šæœ¬</font>"
        
        local serversText = createAdvancedColorTextLabel(supportedServersText, 150)
        serversText.Parent = ScriptsContainer
        totalHeight = totalHeight + 160
    end
    
    ScriptsContainer.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    
    local buttons = {
        ScriptInfoButton = "ScriptInfo",
        DeveloperButton = "Developer",
        GeneralButton = "General",
        FEButton = "FE",
        ESPButton = "ESP",
        BlindFireButton = "BlindFire",
        AOTUButton = "AOTU",
        BoxingButton = "Boxing",
        ServerButton = "Server"
    }
    
    for buttonName, buttonCategory in pairs(buttons) do
        local button = NavigationFrame:FindFirstChild(buttonName)
        if button then
            if buttonCategory == category then
                button.BackgroundColor3 = Color3.fromRGB(70, 130, 200)
                button.BackgroundTransparency = 0
            else
                button.BackgroundColor3 = Color3.fromRGB(50, 50, 65)
                button.BackgroundTransparency = 0
            end
        end
    end
end

-- å¯¼èˆªæŒ‰é’®ç‚¹å‡»äº‹ä»¶
ScriptInfoButton.MouseButton1Click:Connect(function()
    currentCategory = "ScriptInfo"
    loadCategory("ScriptInfo")
end)

DeveloperButton.MouseButton1Click:Connect(function()
    currentCategory = "Developer"
    loadCategory("Developer")
end)

GeneralButton.MouseButton1Click:Connect(function()
    currentCategory = "General"
    loadCategory("General")
end)

FEButton.MouseButton1Click:Connect(function()
    currentCategory = "FE"
    loadCategory("FE")
end)

ESPButton.MouseButton1Click:Connect(function()
    currentCategory = "ESP"
    loadCategory("ESP")
end)

BlindFireButton.MouseButton1Click:Connect(function()
    currentCategory = "BlindFire"
    loadCategory("BlindFire")
end)

AOTUButton.MouseButton1Click:Connect(function()
    currentCategory = "AOTU"
    loadCategory("AOTU")
end)

BoxingButton.MouseButton1Click:Connect(function()
    currentCategory = "Boxing"
    loadCategory("Boxing")
end)

ServerButton.MouseButton1Click:Connect(function()
    currentCategory = "Server"
    loadCategory("Server")
end)

-- åˆ›å»ºæœ€å°åŒ–é¢æ¿
MinimizedPanel.Name = "MinimizedPanel"
MinimizedPanel.Parent = ScreenGui
MinimizedPanel.BackgroundColor3 = ColorPalette.Primary
MinimizedPanel.Size = panelSize
MinimizedPanel.Position = UDim2.new(0.9, -250, 0.05, 0)
MinimizedPanel.Active = false
MinimizedPanel.Draggable = false
MinimizedPanel.Visible = false

-- é¢æ¿åœ†è§’
PanelUICorner.Parent = MinimizedPanel
PanelUICorner.CornerRadius = UDim.new(0, 12)

-- é¢æ¿æ¸å˜
PanelGradient.Name = "PanelGradient"
PanelGradient.Parent = MinimizedPanel
PanelGradient.Color = GradientPresets.PurplePink

-- é¢æ¿å½©è™¹è½®å»“
PanelUIStroke.Parent = MinimizedPanel
PanelUIStroke.Color = Color3.fromRGB(255, 0, 0)
PanelUIStroke.Thickness = 2.5
PanelUIStroke.LineJoinMode = Enum.LineJoinMode.Round
PanelUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- é¢æ¿å½©è™¹åŠ¨ç”»
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.6,
                Enum.EasingStyle.Sine,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                PanelUIStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- é¢æ¿æ ‡é¢˜
PanelTitle.Name = "PanelTitle"
PanelTitle.Parent = MinimizedPanel
PanelTitle.BackgroundTransparency = 1
PanelTitle.Size = UDim2.new(1, 0, 1, 0)
PanelTitle.Font = FontPresets.Title
PanelTitle.Text = "NZ SCRIPT CENTER"
PanelTitle.TextColor3 = ColorPalette.Text
PanelTitle.TextSize = 16
PanelTitle.ZIndex = 2

-- é¢æ¿æ ‡é¢˜æè¾¹
PanelTitleStroke.Parent = PanelTitle
PanelTitleStroke.Color = Color3.fromRGB(255, 0, 0)
PanelTitleStroke.Thickness = 1.5
PanelTitleStroke.LineJoinMode = Enum.LineJoinMode.Round
PanelTitleStroke.Transparency = 0.3

-- åˆ›å»ºçƒå½¢å±•å¼€æŒ‰é’®
ExpandSphere.Name = "ExpandSphere"
ExpandSphere.Parent = ScreenGui
ExpandSphere.BackgroundColor3 = ColorPalette.Primary
ExpandSphere.Size = UDim2.new(0, 60, 0, 60)
ExpandSphere.Position = UDim2.new(0.95, -30, 0.05, 0)
ExpandSphere.Visible = false

-- çƒå½¢æ¸å˜
SphereGradient.Name = "SphereGradient"
SphereGradient.Parent = ExpandSphere
SphereGradient.Color = GradientPresets.BluePurple

-- çƒå½¢åœ†è§’
SphereCorner.Parent = ExpandSphere
SphereCorner.CornerRadius = UDim.new(1, 0)

-- çƒå½¢å½©è™¹æè¾¹
SphereStroke.Parent = ExpandSphere
SphereStroke.Color = Color3.fromRGB(0, 200, 255)
SphereStroke.Thickness = 3
SphereStroke.LineJoinMode = Enum.LineJoinMode.Round

-- çƒå½¢å½©è™¹åŠ¨ç”»
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.6,
                Enum.EasingStyle.Sine,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                SphereStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- çƒå½¢æŒ‰é’®
SphereButton.Name = "SphereButton"
SphereButton.Parent = ExpandSphere
SphereButton.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
SphereButton.BackgroundTransparency = 0.2
SphereButton.Size = UDim2.new(1, 0, 1, 0)
SphereButton.Font = FontPresets.Header
SphereButton.Text = ""
SphereButton.TextColor3 = ColorPalette.Text
SphereButton.TextSize = 20
SphereButton.ZIndex = 2

-- çƒå½¢æŒ‰é’®æ¸å˜
SphereButtonGradient.Name = "SphereButtonGradient"
SphereButtonGradient.Parent = SphereButton
SphereButtonGradient.Color = GradientPresets.DarkTheme

-- çƒå½¢æŒ‰é’®åœ†è§’
local SphereButtonCorner = Instance.new("UICorner")
SphereButtonCorner.Parent = SphereButton
SphereButtonCorner.CornerRadius = UDim.new(1, 0)

-- çƒå½¢æ–‡å­—
SphereText.Name = "SphereText"
SphereText.Parent = ExpandSphere
SphereText.BackgroundTransparency = 1
SphereText.Size = UDim2.new(1, 0, 1, 0)
SphereText.Font = FontPresets.Title
SphereText.Text = "NZ"
SphereText.TextColor3 = ColorPalette.Text
SphereText.TextSize = 22
SphereText.TextStrokeTransparency = 0.7
SphereText.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
SphereText.ZIndex = 3

-- çƒå½¢æ–‡å­—æè¾¹
SphereTextStroke.Parent = SphereText
SphereTextStroke.Color = Color3.fromRGB(0, 255, 255)
SphereTextStroke.Thickness = 1.8
SphereTextStroke.LineJoinMode = Enum.LineJoinMode.Round
SphereTextStroke.Transparency = 0.2

-- çƒå½¢æ–‡å­—å½©è™¹åŠ¨ç”»
spawn(function()
    while true do
        for i = 1, #colorSequence.Keypoints do
            local nextIndex = i % #colorSequence.Keypoints + 1
            local tweenInfo = TweenInfo.new(
                0.6,
                Enum.EasingStyle.Sine,
                Enum.EasingDirection.InOut
            )
            local tween = game:GetService("TweenService"):Create(
                SphereTextStroke,
                tweenInfo,
                {Color = colorSequence.Keypoints[nextIndex].Value}
            )
            tween:Play()
            tween.Completed:Wait()
        end
    end
end)

-- æœ€å°åŒ–/å±•å¼€å‡½æ•°
local function minimizeUI()
    isMinimized = true
    MinimizeButton.Text = "+"
    
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In)
    local sizeTween = game:GetService("TweenService"):Create(
        Frame,
        tweenInfo,
        {Size = UDim2.new(0, 0, 0, 0)}
    )
    
    sizeTween:Play()
    sizeTween.Completed:Wait()
    
    Frame.Visible = false
    MinimizedPanel.Visible = false
    ExpandSphere.Visible = true
    
    ExpandSphere.Position = UDim2.new(0.95, -30, 0.05, 0)
end

local function expandUI()
    isMinimized = false
    MinimizeButton.Text = "-"
    
    ExpandSphere.Visible = false
    Frame.Visible = true
    
    Frame.Position = originalPosition
    Frame.Size = UDim2.new(0, 0, 0, 0)
    
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
    local sizeTween = game:GetService("TweenService"):Create(
        Frame,
        tweenInfo,
        {Size = originalSize}
    )
    
    sizeTween:Play()
    
    loadCategory(currentCategory)
end

-- æœ€å°åŒ–æŒ‰é’®ç‚¹å‡»äº‹ä»¶
MinimizeButton.MouseButton1Click:Connect(function()
    if not isMinimized then
        minimizeUI()
    else
        expandUI()
    end
end)

-- å…³é—­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- å…³é—­æŒ‰é’®æ‚¬åœæ•ˆæœ
CloseButton.MouseEnter:Connect(function()
    game:GetService("TweenService"):Create(
        CloseButton,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundColor3 = Color3.fromRGB(220, 80, 80)}
    ):Play()
end)

CloseButton.MouseLeave:Connect(function()
    game:GetService("TweenService"):Create(
        CloseButton,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundColor3 = Color3.fromRGB(200, 60, 60)}
    ):Play()
end)

-- çƒå½¢æŒ‰é’®é•¿æŒ‰æ£€æµ‹
local longPressTimer = 0
local isLongPressing = false
local longPressThreshold = 1.5

SphereButton.MouseButton1Down:Connect(function()
    isLongPressing = true
    longPressTimer = tick()
    
    SphereText.Text = "â³"
    
    spawn(function()
        while isLongPressing do
            local elapsedTime = tick() - longPressTimer
            if elapsedTime >= longPressThreshold then
                SphereText.Text = "âš¡"
                break
            end
            wait(0.1)
        end
    end)
end)

SphereButton.MouseButton1Up:Connect(function()
    local elapsedTime = tick() - longPressTimer
    
    if isLongPressing then
        if elapsedTime < longPressThreshold then
            if isMinimized then
                expandUI()
            end
        else
            if ScreenGui.Parent ~= game.CoreGui then
                ScreenGui.Parent = game.CoreGui
            end
            SphereText.Text = "âœ…"
            wait(0.5)
        end
        
        isLongPressing = false
        SphereText.Text = "NZ"
    end
end)

-- è®¾ç½®ZIndexå±‚çº§
Header.ZIndex = 2
Title.ZIndex = 3
VersionLabel.ZIndex = 3
Author.ZIndex = 3
MinimizeButton.ZIndex = 3
CloseButton.ZIndex = 3

NavigationFrame.ZIndex = 2
ScriptInfoButton.ZIndex = 3
DeveloperButton.ZIndex = 3
GeneralButton.ZIndex = 3
FEButton.ZIndex = 3
ESPButton.ZIndex = 3
BlindFireButton.ZIndex = 3
AOTUButton.ZIndex = 3
BoxingButton.ZIndex = 3
ServerButton.ZIndex = 3

ScriptsContainer.ZIndex = 2

MinimizedPanel.ZIndex = 10
PanelTitle.ZIndex = 11
PanelTitleStroke.ZIndex = 10

ExpandSphere.ZIndex = 20
SphereButton.ZIndex = 21
SphereText.ZIndex = 22
SphereTextStroke.ZIndex = 21

-- åˆå§‹åŠ è½½è„šæœ¬ä¿¡æ¯
loadCategory("ScriptInfo")

-- ç¡®ä¿UIåœ¨CoreGuiä¸­
if ScreenGui.Parent ~= game.CoreGui then
    ScreenGui.Parent = game.CoreGui
end

print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
print("â•‘       NZ SCRIPT CENTER V2.0              â•‘")
print("â•‘        é«˜çº§ç•Œé¢ç‰ˆå·²åŠ è½½                  â•‘")
print("â•‘        ä½œè€…: å—çƒ›                        â•‘")
print("â•‘        QQäº¤æµç¾¤: 445825485               â•‘")
print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
